(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,n,t){var r=t(155);e.exports=function(){var e=this;if(void 0!==this)return this.setRdfType=function(e){this.rdfType=e},this.do=function(n){var t=this;return new Promise(function(r,a){t.parseRdf(n).then(function(i){t.prepare(n).then(function(i){t.execute(n,i).then(function(t){if(e.store=n.store,"Array"===n.wanted)r(t);else if("Hash"===n.wanted)r(e.ary2hash(n,t));else if(t.length<1)r("No results!");else if("Value"===n.wanted){var a=Object.keys(t[0])[0];r(t[0][a])}else{var i=e.displayHandler(n,t);r(i)}},function(e){return a(e)})},function(e){return a(e)})},function(e){return a(e)})})},this.ary2hash=function(e,n){var t={};for(var r in n)t[(r=n[r])[e.key]]=r;return t},this.parseRdf=function(n){return new Promise(function(t,a){if(!n.data)return t();var i=n.dataType;"undefined"!=typeof document&&(i=e.rdfType),i||(i="text/turtle");try{r.parse(n.data,n.store,r.sym("http://example.org/inMemory").uri,i),t()}catch(o){a(o)}})},this.prepare=function(e){return new Promise(function(n,t){try{n(r.SPARQLToQuery(e.query,!1,e.store))}catch(a){t(a)}})},this.execute=function(n,t){var r=n.rowHandler||e.rowHandler;return new Promise(function(e,a){var i=t.vars,o=[];n.store.query(t,function(e){if("undefined"===typeof e)a("No results.");else{var t=r(n,i,e);t&&o.push(t)}},{},function(){e(o)})})},this.rowHandler=function(e,n,t){var r={};for(var a in t){var i=!1,o=a.replace(/^\?/,"");if(n.length){for(var c in n)o!==n[c].label||(i=!0);if(!i)continue}r[o]=t[a].value}return e.rowHandler&&(r=e.rowHandler(r)),r},this.displayHandler=function(n,t){var r=n.wanted?n.wanted:void 0===typeof document?"Text":"HTML";return"Text"===r?e.showText(t):"HTML"===r?e.showHtml(t):void 0},this.showText=function(e){var n=Object.keys(e[0]).reverse(),t="\n";for(var r in e){for(var a in n)t+="".concat(n[a]," : ").concat(e[r][n[a]],"\n");t+="\n"}return t},this.showHtml=function(e){var n=Object.keys(e[0]).reverse(),t="<table>",r="";for(var a in n)r+="<th>".concat(n[a],"</th>");for(var i in t+="<tr>".concat(r,"</tr>"),e){var o="";for(var c in n)o+="<td>".concat(e[i][n[c]],"</td>");t+="<tr>".concat(o,"</tr>")}return t+="</table>"},this.runFromLibrary=function(n,t,r){return new Promise(function(a,i){var o={wanted:"Array",data:n,query:'\n    PREFIX : <http://example.org/inMemory#>\n    SELECT ?type ?data ?query WHERE { \n        ?x :name "'.concat(t,'"; :dataFormat ?type; :data ?data; :query ?query . \n    }\n')};e.run(o).then(function(n){var t={wanted:r.wanted,data:n[0].data,query:n[0].query,dataType:n[0].type};e.run(t).then(function(e){a(e)},function(e){return i(e)})},function(e){return i(e)})},function(e){return alert(e)})},this.loadLibrary=function(n){return new Promise(function(t,r){var a={wanted:"Hash",key:"name",data:n,query:"\n    PREFIX : <http://example.org/inMemory#>\n    SELECT ?name ?type ?data ?query WHERE { \n        ?x :name ?name :dataFormat ?type; :data ?data; :query ?query . \n    }\n"};e.run(a).then(function(e){t(e)},function(e){return r(e)})},function(e){return alert(e)})},this.run=function(n){return new Promise(function(t,a){n.store=n.data.length>0?r.graph():e.store,n.data.match(/^http/)?e.loadFromUrl(n,"data").then(function(n){e.loadSparqlAndDo(n).then(function(e){t(e)},function(e){return a(e)})},function(e){return a(e)}):e.loadSparqlAndDo(n).then(function(e){t(e)},function(e){return a(e)})})},this.loadSparqlAndDo=function(n){var t=this;return new Promise(function(r,a){n.query.match(/^http/)?t.loadFromUrl(n,"query").then(function(n){e.do(n).then(function(e){r(e)},function(e){return a(e)})},function(e){return a(e)}):t.do(n).then(function(e){r(e)},function(e){return a(e)})})},this.loadFromUrl=function(e,n){var t=e[n];return new Promise(function(a,i){var o=new r.fetcher(r.graph());try{o.load(t).then(function(t){e[n]=t.responseText,a(e)})}catch(c){i(c)}})},this.loadFromUrlPlain=function(e){return new Promise(function(n,t){var a=new r.fetcher(r.graph());try{a.load(e).then(function(e){n(e.responseText)})}catch(i){t(i)}})},this}()},172:function(e,n,t){},263:function(e,n,t){e.exports=t(512)},28:function(e,n){e.exports=solid.auth},346:function(e,n,t){},367:function(e,n){},369:function(e,n){},378:function(e,n){},380:function(e,n){},422:function(e,n){},424:function(e,n){},43:function(e,n){e.exports=solid.data},469:function(e,n){},472:function(e,n){},483:function(e,n){},484:function(e,n){},507:function(e,n,t){},512:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"documentExists",function(){return F}),t.d(r,"createDoc",function(){return M}),t.d(r,"deleteFile",function(){return G}),t.d(r,"createDocument",function(){return U}),t.d(r,"createDocumentWithTurtle",function(){return q}),t.d(r,"createNonExistentDocument",function(){return V}),t.d(r,"fetchLdflexDocument",function(){return W}),t.d(r,"resourceExists",function(){return H}),t.d(r,"discoverInbox",function(){return X}),t.d(r,"getLinkedInbox",function(){return J});var a={};t.r(a),t.d(a,"sendNotification",function(){return Q}),t.d(a,"findUserInboxes",function(){return $}),t.d(a,"getDefaultInbox",function(){return ee});var i={};t.r(i),t.d(i,"buildPathFromWebId",function(){return re}),t.d(i,"getAppStorage",function(){return ae}),t.d(i,"createInitialFiles",function(){return ie}),t.d(i,"checkAndInitializeInbox",function(){return oe});var o={};t.r(o),t.d(o,"checkSpecificAppPermission",function(){return ue}),t.d(o,"checkPermissions",function(){return le}),t.d(o,"checkOrSetInboxAppendPermissions",function(){return se});var c=t(0),u=t.n(c),l=t(42),s=t.n(l),d=t(167),f=t(14),p=t(237),m=t.n(p),g=t(238),h=t.n(g),b=new m.a(null,{loadPath:"locales/{{lng}}/{{ns}}.json"});d.a.use(b).use(h.a).use(f.a).init({fallbackLng:"es",debug:!1,whitelist:["en-US","en","es"],react:{wait:!0}});d.a;var v=t(56),x=t(1),E=t(3);function w(){var e=Object(x.a)(["\n  background-image: radial-gradient(#00B010, #00B010, #005F11);\n  background-repeat: no-repeat;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url('img/pattern-geo.png');\n    filter: opacity(30%);\n  }\n"]);return w=function(){return e},e}var y=E.default.div(w()),O=function(e){var n=e.children,t=e.className;return u.a.createElement(y,{className:t},n)};function j(){var e=Object(x.a)(["\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  h1 {\n    box-sizing: border-box;\n    padding: 0;\n    font-size: 28px;\n    color: rgb(40, 55, 82);\n    letter-spacing: 1.4px;\n    line-height: 40px;\n    text-align: center;\n    margin: 40px 0;\n    font-weight: bold;\n  }\n"]);return j=function(){return e},e}var k=E.default.section(j()),N=function(e){var n=e.children,t=e.className;return u.a.createElement(k,{className:t},u.a.createElement("div",{className:"wrapper"},n))},S=t(4),C=t.n(S);function P(){var e=Object(x.a)(["\n    @media (min-width: ","em) {\n      ","\n    }\n  "]);return P=function(){return e},e}var I={desktop:992,desktopSm:1024,tablet:768,phone:576},R=Object.keys(I).reduce(function(e,n){return e[n]=function(){return Object(E.css)(P(),I[n]/16,E.css.apply(void 0,arguments))},e},{}),D=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return Object(v.c)(u.a.createElement(Ze,{content:e,title:n,type:"error",link:t}),{autoClose:!1,className:"solid-toaster toaster-error",type:"error",position:v.c.POSITION.BOTTOM_CENTER})},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return Object(v.c)(u.a.createElement(Ze,{content:e,title:n,type:"success",link:t}),{className:"solid-toaster toaster-success",type:"success",position:v.c.POSITION.BOTTOM_CENTER})},L=t(12),A=t(28),_=t.n(A),z=t(43),B=t.n(z),F=function(){var e=Object(L.a)(C.a.mark(function e(n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.a.fetch(n,{headers:{"Content-Type":"text/turtle"}}));case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=Object(L.a)(C.a.mark(function e(n,t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.fetch(n,t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n,t){return e.apply(this,arguments)}}(),G=function(){var e=Object(L.a)(C.a.mark(function e(n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.fetch(n,{method:"DELETE"});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r,a=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,r={method:"PUT",headers:{"Content-Type":"text/turtle"},body:t},e.next=5,M(n,r);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.abrupt("return",M(n,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:t}));case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}},e,null,[[1,5]])}));return function(n){return e.apply(this,arguments)}}(),V=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r,a=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,e.next=4,F(n);case 4:return r=e.sent,e.abrupt("return",404===r.status?U(n,t):null);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=Object(L.a)(C.a.mark(function e(n){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(n);case 3:if(404!==e.sent.status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,B.a[n];case 8:return t=e.sent,e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(L.a)(C.a.mark(function e(n){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.fetch(n);case 3:return t=e.sent,e.abrupt("return",403===t.status||200===t.status);case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(n);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,B.a[n]["ldp:inbox"];case 8:if(!(t=e.sent)){e.next=15;break}return e.next=12,t.value;case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=!1;case 16:return r=e.t0,e.abrupt("return",r);case 20:throw e.prev=20,e.t1=e.catch(0),e.t1;case 23:case"end":return e.stop()}},e,null,[[0,20]])}));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=Object(L.a)(C.a.mark(function e(n){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a[n].inbox;case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",t.value);case 6:return e.abrupt("return","");case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(n){return e.apply(this,arguments)}}(),Y=t(50),Z=t(39),K=t(241),Q=function(){var e=Object(L.a)(C.a.mark(function e(n,t,r,a){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",r(t,a));case 3:throw new Error("Error: The opponent does not have an available inbox");case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n,t,r,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,a,i,o,c,u,l,s,d,f;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[],a=!0,i=!1,e.prev=4,c=Object(K.a)(n);case 6:return e.next=8,c.next();case 8:return u=e.sent,a=u.done,e.next=12,u.value;case 12:if(l=e.sent,a){e.next=23;break}return d=(s=l).path,e.next=18,r.discoverInbox(d);case 18:(f=e.sent)&&(t=[].concat(Object(Z.a)(t),[Object(Y.a)({},s,{path:f})]));case 20:a=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),i=!0,o=e.t0;case 29:if(e.prev=29,e.prev=30,a||null==c.return){e.next=34;break}return e.next=34,c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw o;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",t);case 42:throw e.prev=42,e.t1=e.catch(0),new Error(e.t1);case 45:case"end":return e.stop()}},e,null,[[0,42],[4,25,29,39],[30,,34,38]])}));return function(n){return e.apply(this,arguments)}}(),ee=function(e,n,t){return e.find(function(e){return e.name===n})||e.find(function(e){return e.name===t})},ne=t(19),te=Object({NODE_ENV:"production",PUBLIC_URL:"/viade_es2c",REACT_APP_VIADE_PATH:"public/viade/",REACT_APP_VERSION:"0.1.0",REACT_APP_NAME:"viade_es2c",REACT_APP_COMPANY_NAME:"iUniversity of Oviedo"}).REACT_APP_TICTAC_PATH,re=function(e,n){if(!e)return!1;var t=new URL("object"===typeof e?e.webId:e).origin;return"".concat(t,"/").concat(n)},ae=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a[n].storage;case 2:if(t=e.sent,(r=t&&t.value.trim().length>0?t.value:"")&&!r.endsWith("/")&&(r="".concat(r,"/")),r&&0!==r.trim().length){e.next=7;break}return e.abrupt("return",re(n,te));case 7:return e.abrupt("return","".concat(r).concat(te));case 8:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(L.a)(C.a.mark(function e(n){var t,r,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.checkSpecificAppPermission(n,ne.AccessControlList.MODES.WRITE);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,i.getAppStorage(n);case 8:return t=e.sent,r="".concat(t,"data.ttl"),a="".concat(t,"settings.ttl"),e.next=13,H(t);case 13:if(e.sent){e.next=17;break}return e.next=17,M(B.a,{method:"PUT",headers:{"Content-Type":"text/turtle"}});case 17:return e.next=19,H(r);case 19:if(e.sent){e.next=23;break}return e.next=23,U(r);case 23:return e.next=25,H(a);case 25:if(e.sent){e.next=29;break}return e.next=29,U(a);case 29:return e.abrupt("return",!0);case 32:return e.prev=32,e.t0=e.catch(0),D(e.t0.message,"Error"),e.abrupt("return",!1);case 36:case"end":return e.stop()}},e,null,[[0,32]])}));return function(n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ce=function(e,n){return n.every(function(n){return e.includes(n)})},ue=function(){var e=Object(L.a)(C.a.mark(function e(n,t){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.AppPermission.checkPermissions(n);case 2:return r=e.sent,e.abrupt("return",r.permissions.includes(t));case 4:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),le=function(){var e=Object(L.a)(C.a.mark(function e(n,t){var r,a,i,o,c,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.AppPermission.checkPermissions(n);case 2:r=e.sent,a=ne.AccessControlList.MODES,i=a.APPEND,o=a.READ,c=a.WRITE,u=a.CONTROL,null!==r&&null!==r.permissions&&ce(r.permissions,[i,o,c,u])||D(t.message,t.title,{label:t.label,href:t.href});case 6:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),se=function(){var e=Object(L.a)(C.a.mark(function e(n,t){var r,a,i,o,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ne.AccessControlList(t,n),e.next=3,r.getPermissions();case 3:if(a=e.sent,i=a.filter(function(e){return null===e.agents}),!(i.filter(function(e){return e.modes.includes(ne.AccessControlList.MODES.APPEND)}).length<=0)){e.next=17;break}return e.prev=7,o=[{agents:null,modes:[ne.AccessControlList.MODES.APPEND]}],c=new ne.AccessControlList(t,n),e.next=12,c.createACL(o);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(7),e.t0;case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[7,14]])}));return function(n,t){return e.apply(this,arguments)}}();function de(){var e=Object(x.a)(["\n    min-width: 420px;\n  "]);return de=function(){return e},e}function fe(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  border-radius: 4px;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  min-width: 310px;\n  min-height: 403px;\n  position: relative;\n  margin: auto;\n  padding: 40px;\n  text-align: center;\n\n  & > h1,\n  & > h2 {\n    padding: 0;\n    margin: 0;\n  }\n\n  @media screen and (max-width: 992px) {\n    width: auto;\n  }\n  ","\n"]);return fe=function(){return e},e}var pe=E.default.div(fe(),R.tablet(de())),me=function(e){var n=e.children,t=e.className;return u.a.createElement(pe,{className:t},n)},ge=t(9),he=t(10),be=t(24),ve=t(26),xe=t(27),Ee=t(51),we=t(242),ye=t.n(we);function Oe(){var e=Object(x.a)(["\n  border-left: none;\n  border-top: 1px solid rgba(8, 53, 117, 0.1);\n  width: 100%;\n  background: #fff;\n  padding: 0;\n  text-align: left;\n  button {\n    background: #fff;\n    line-height: 2;\n    padding: 1rem;\n    text-align: left;\n    cursor: pointer;\n    width: 100%;\n    border: none;\n    border-radius: 0px;\n    &:hover {\n      background: white;\n      transition: all 0.5s ease-in-out;\n      color: #083575;\n    }\n  }\n  .flag-icon {\n    margin-right: 10px;\n  }\n"]);return Oe=function(){return e},e}function je(){var e=Object(x.a)(["\n  position: absolute;\n  top: 100%;\n  right: 0;\n  z-index: 2;\n  ul {\n    display: flex;\n    position: relative;\n    min-width: 200px;\n    flex-direction: column;\n    right: 0;\n    height: auto;\n    background: #fff;\n    transition: all 0.25s ease-in-out;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  }\n  .profile-list & {\n    position: relative;\n    top: 0;\n  }\n"]);return je=function(){return e},e}function ke(){var e=Object(x.a)(["height: 100%;"]);return ke=function(){return e},e}function Ne(){var e=Object(x.a)(["\n  position: relative;\n  border: none;\n  background: none;\n  width: 100%;\n  padding: 0 16px;\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n  ","\n"]);return Ne=function(){return e},e}function Se(){var e=Object(x.a)(["display: none; path { display: none }"]);return Se=function(){return e},e}function Ce(){var e=Object(x.a)(["\n  position: relative;\n  height: auto;\n  width: 100%;\n  padding: 0 !important;\n\n  .icon {\n    margin-right: 5px;\n    font-size: 1rem;\n    color: #7c4dff;\n    ","\n  }\n"]);return Ce=function(){return e},e}var Pe=E.default.div(Ce(),R.desktop(Se())),Ie=E.default.button(Ne(),R.desktop(ke())),Re=E.default.div(je()),De=E.default.li(Oe()),Te=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).toggleOpen=function(){t.props.open||t.setState(function(e){return{open:!e.open}})},t.renderIcon=function(e){return e.customIcon?u.a.createElement("div",{className:"flag-icon flag-icon-".concat(e.icon)}):u.a.createElement(Ee.a,{icon:e.icon,className:"checked icon"})},t.state={open:!1},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"handleClickOutside",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,n=this.props,t=n.actions,r=n.children,a=n.className,i=n.hover,o=n.open,c=this.state.open;return u.a.createElement(Pe,{className:a,onClick:this.toggleOpen,onMouseEnter:i?this.toggleOpen:null,onMouseLeave:i?this.toggleOpen:null},u.a.createElement(Ie,{onClick:this.toggleOpen,"data-testid":"dropdownMain"},r),(c||o)&&u.a.createElement(Re,{className:"dropdownItem"},u.a.createElement("ul",{"data-testid":"list"},t.map(function(n,t){return u.a.createElement(De,{key:t,className:"item"},u.a.createElement("button",{onClick:n.onClick,type:"button"},n.icon&&e.renderIcon(n),u.a.createElement("span",null,n.label)))}))))}}]),n}(c.Component);Te.defaultProps={hover:!1};var Le=ye()(Te);function Ae(){var e=Object(x.a)(["\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n  background: #1ca9e5;\n  color: #ffffff;\n  font-size: 9px;\n  font-family: Raleway;\n  font-style: normal;\n  font-weight: bold;\n  line-height: normal;\n"]);return Ae=function(){return e},e}var _e=E.default.div(Ae()),ze=function(e){var n=e.badge;return u.a.createElement(_e,{className:"badgeWrapper"},n)};function Be(){var e=Object(x.a)(["\n  background-color: #00B020;\n  animation: "," 1.3s infinite ease-in-out;\n  animation-delay: ","s;\n"]);return Be=function(){return e},e}function Fe(){var e=Object(x.a)(["\n  width: 80px;\n  height: 80px;\n  margin: 100px auto;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n"]);return Fe=function(){return e},e}function Me(){var e=Object(x.a)(["\n  position: ",";\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.6);\n"]);return Me=function(){return e},e}function Ge(){var e=Object(x.a)(["\n\t0%,\n\t70%,\n\t100% {\n\t\ttransform: scale3D(1, 1, 1);\n\t}\n\n\t35% {\n\t\ttransform: scale3D(0, 0, 1);\n\t}\n"]);return Ge=function(){return e},e}var Ue=Object(E.keyframes)(Ge()),qe=E.default.div(Me(),function(e){return e.absolute?"absolute":"fixed"}),Ve=E.default.div(Fe()),We=E.default.span(Be(),Ue,function(e){return e.delay||0}),He=function(e){function n(){var e,t;Object(ge.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(be.a)(this,(e=Object(ve.a)(n)).call.apply(e,[this].concat(a)))).state={show:!1},t.show=function(){return t.setState({show:!0})},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.delayTimer=setTimeout(this.show,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimer)}},{key:"render",value:function(){var e=this.state.show,n=this.props.absolute;return e&&u.a.createElement(qe,{absolute:n},u.a.createElement(Ve,null,[{id:"0",value:.2},{id:"1",value:.3},{id:"2",value:.4},{id:"3",value:.1},{id:"4",value:.2},{id:"5",value:.3},{id:"6",value:0},{id:"7",value:.1},{id:"8",value:.2}].map(function(e){var n=e.id,t=e.value;return u.a.createElement(We,{key:n,delay:t})})))}}]),n}(c.Component);He.defaultProps={delay:300,absolute:!1};var Xe=He;function Je(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  flex: 1 1 auto;\n\n  & > span {\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n\n  & > p {\n    margin: 0;\n    padding: 2px 0;\n    color: inherit;\n  }\n\n  a {\n    color: white;\n    display: block;\n    margin: 5px 0;\n  }\n"]);return Je=function(){return e},e}var Ye=E.default.div(Je()),Ze=function(e){var n=e.title,t=e.content,r=e.link;return u.a.createElement(Ye,null,u.a.createElement("span",null,n),u.a.createElement("p",null,t),r&&u.a.createElement("a",{href:r.href,target:"_blank",rel:"noopener noreferrer"},r.label))},Ke=function(e){function n(){var e;return Object(ge.a)(this,n),(e=Object(be.a)(this,Object(ve.a)(n).call(this))).getLanguage=function(){return localStorage.getItem("i18nextLng")||"en"},e.onLanguageSelect=function(n){var t=e.props.i18n;v.c.dismiss(),t.changeLanguage(n),e.setState({language:e.getLanguage()})},e.state={language:e.getLanguage()},e}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"render",value:function(){var e=this,n=this.props.t,t=this.state.language,r=[{label:n("navBar.languages.en"),onClick:function(){return e.onLanguageSelect("en")},icon:"",customIcon:!0},{label:n("navBar.languages.es"),onClick:function(){return e.onLanguageSelect("es")},icon:"",customIcon:!0}];return u.a.createElement(Le,{actions:r,hover:!0},u.a.createElement("div",null,r["es"===t?1:0].label))}}]),n}(c.Component),Qe=t(11),$e=t(162),en=t.n($e);function nn(){var e=Object(x.a)(["\n  background: rgb(239, 89, 80);\n  margin-right: 1em;\n"]);return nn=function(){return e},e}function tn(){var e=Object(x.a)(["\n  background: rgb(44, 105, 164);\n  margin-left: 1em;\n"]);return tn=function(){return e},e}function rn(){var e=Object(x.a)(["\n  flex: 1 0 auto;\n  color: #fff;\n  text-transform: uppercase;\n  border: none;\n  font-weight: 700;\n  letter-spacing: 1px;\n  font-size: 0.7rem;\n  padding: 0.7em 0;\n"]);return rn=function(){return e},e}function an(){var e=Object(x.a)(["\n  padding: 2em 0;\n  display: flex;\n"]);return an=function(){return e},e}function on(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > div#modal-actions {\n    align-self: flex-end;\n    padding: 16px 0 0 0;\n    & button {\n      margin-left: 8px;\n    }\n  }\n"]);return on=function(){return e},e}var cn=E.default.div(on()),un=E.default.div(an()),ln=E.default.button(rn()),sn=Object(E.default)(ln)(tn()),dn=Object(E.default)(ln)(nn());en.a.setAppElement("#root");var fn=function(e){var n=e.onAccept,t=e.onDecline,r=e.options,a=e.parentSelector,i=Object(c.useState)(!1),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=r.message,f=r.messageComponent,p=r.acceptText,m=r.declineText,g=function(){var e=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:s(!1);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:s(!1);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){s(!0)},[]),u.a.createElement(en.a,{isOpen:l,ariaHideApp:!1,parentSelector:function(){return document.querySelector(a)},overlayClassName:"modal-overlay",className:"modal-content"},u.a.createElement(cn,null,u.a.createElement("div",null,f?u.a.createElement(f,null):d),u.a.createElement(un,null,u.a.createElement(dn,{type:"button",onClick:h,"data-testid":"declineButton"},m||"Decline"),u.a.createElement(sn,{type:"button",onClick:g,"data-testid":"acceptButton"},p||"Accept"))))};fn.defaultProps={parentSelector:"#root"};var pn=t(80),mn=t(255),gn=t(256),hn=t(98),bn=t(243),vn=t(524),xn=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).state={hasError:!1,error:null,info:null},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0,error:e,info:n})}},{key:"render",value:function(){var e=this.state,n=e.hasError,t=e.error,r=e.info,a=this.props,i=a.component,o=a.children;return n?i(t,r):o}}]),n}(c.Component);function En(){var e=Object(x.a)(["order: 2;"]);return En=function(){return e},e}function wn(){var e=Object(x.a)(["\n  align-self: center;\n  order: 1;\n\n  ","\n"]);return wn=function(){return e},e}function yn(){var e=Object(x.a)(["order: 1;"]);return yn=function(){return e},e}function On(){var e=Object(x.a)(["\n  align-self: center;\n  order: 2;\n\n  img {\n    display: block;\n    max-width: 100%;\n    margin: 0 auto;\n  }\n  ","\n"]);return On=function(){return e},e}function jn(){var e=Object(x.a)(["\n  font-weight: 100;\n  line-height: 1.8rem;\n\n  &.subheadline {\n    font-size: 1.1rem;\n    &:after {\n      display: block;\n      content: '';\n      height: 1px;\n      width: 50%;\n      margin: 20px 0 30px;\n      background-color: #666666;\n    }\n  }\n"]);return jn=function(){return e},e}function kn(){var e=Object(x.a)(["font-size: 2.8rem;"]);return kn=function(){return e},e}function Nn(){var e=Object(x.a)(["\n  color: #5567f9;\n  text-transform: uppercase;\n  margin: 0;\n  ","\n"]);return Nn=function(){return e},e}function Sn(){var e=Object(x.a)(["\n  color: #9c79d5;\n  margin: 0;\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(x.a)(["margin: 20px auto;"]);return Cn=function(){return e},e}function Pn(){var e=Object(x.a)(["grid-template-columns: repeat(2, 1fr);"]);return Pn=function(){return e},e}function In(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(200px, 1fr));\n  grid-gap: 40px;\n  max-width: 1024px;\n  margin: 20px;\n\n  ","\n  ","\n"]);return In=function(){return e},e}var Rn=E.default.section(In(),R.tablet(Pn()),R.desktop(Cn())),Dn=E.default.h1(Sn()),Tn=E.default.h2(Nn(),R.tablet(kn())),Ln=E.default.p(jn()),An=E.default.div(On(),R.tablet(yn())),_n=E.default.div(wn(),R.tablet(En())),zn=function(e){var n=e.info,t=Object(f.b)().t;return u.a.createElement(Rn,null,u.a.createElement(An,null,u.a.createElement("img",{src:"img/error-ufo.svg",alt:"Error"})),u.a.createElement(_n,null,u.a.createElement(Dn,{"data-testid":"error-title"},t("globalError.title")),u.a.createElement(Tn,{"data-testid":"error-info"},t("globalError.info")),u.a.createElement(Ln,{className:"subheadline"},t("globalError.msg")),u.a.createElement(Ln,null,n.componentStack)))},Bn=t(163),Fn=u.a.memo(function(e){var n=e.toolbar,t=e.open,r=e.customClass;return u.a.createElement("nav",{className:"nav nav__toolbar"},u.a.createElement("ul",null,n&&n.map(function(e,n){var a=e.component,i=e.props;return u.a.createElement("li",{key:n,"data-testid":"item"},u.a.createElement(a,Object.assign({},i,{open:t,customClass:r})))})))},function(e,n){var t=e&&e.toolbar.length>1&&e.toolbar[1].component().props.inbox,r=n&&n.toolbar.length>1&&n.toolbar[1].component().props.inbox;return(!t||t.length===r||!r.length)&&e.open===n.open}),Mn=t(515),Gn=(t(172),function(e){var n=e.navigation;return u.a.createElement("nav",{role:"navigation",className:"nav nav__primary"},u.a.createElement("ul",null,n&&n.map(function(e){return u.a.createElement("li",{key:e.id,"data-testid":"item"},u.a.createElement(Mn.a,{to:e.to,activeClassName:"active"},u.a.createElement("span",{className:"icon"},u.a.createElement("img",{src:e.icon,alt:e.id,className:"nav-icon",width:"24px",height:"20px",style:{width:"24px"}})),u.a.createElement("span",{className:"label"},e.label)))})))}),Un=function(e){var n=e.toggleMobileMenu;return u.a.createElement("div",{className:"mobile-navigation__toggle"},u.a.createElement("button",{onClick:n,type:"button"},u.a.createElement("span",{className:"icon"},u.a.createElement("img",{src:"img/bars-nav.svg",alt:"Icon Menu"}))))};function qn(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 10px;\n  margin: 15.5px 0;\n\n  div:first-child {\n    grid-column: 1 / 3;\n  }\n\n  button {\n    margin: 0;\n  }\n\n  .close-panel__toggle {\n    text-align: right;\n    padding-right: 20px;\n  }\n"]);return qn=function(){return e},e}var Vn=E.default.div(qn()),Wn=Object(f.c)()(function(e){var n=e.children,t=e.toggleMobileMenu,r=e.isOpenMobile,a=e.t,i=e.i18n,o=r?"active slideLeft":"hidden";return u.a.createElement("section",{className:"mobile-navigation-panel ".concat(o)},u.a.createElement("div",{className:"mobile-navigation-panel__wrap"},u.a.createElement(Vn,null,u.a.createElement(Ke,{t:a,i18n:i}),u.a.createElement("div",{className:"close-panel__toggle"},u.a.createElement("button",{type:"button",onClick:t},u.a.createElement(Ee.a,{className:"icon",icon:"times"})))),n))}),Hn=function(e){var n=e.navigation,t=e.toolbar,r=e.sticky,a=e.t,i=Object(c.useState)(!1),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=Object(c.useState)([]),f=Object(Qe.a)(d,2),p=f[0],m=f[1],g=u.a.createRef(),h=function(){if(g){var e=g.clientHeight,n=document.getElementsByClassName("contentApp");n.length>0&&(n[0].style["padding-top"]="".concat(e,"px"))}};Object(c.useEffect)(function(){r&&(h(),window.addEventListener("resize",function(){h(),window.innerWidth>=1024&&l&&s(!1)})),function(){var e=t?t.filter(function(e){return"language"!==e.id}):[];m(e)}()},[e,l]);var b=function(){s(!l)};return u.a.createElement("header",{role:"navigation",className:"header header__desktop fixed",ref:g},u.a.createElement("section",{className:"header-wrap"},u.a.createElement("div",{className:"logo-block"},u.a.createElement(Bn.a,{to:"/welcome"},u.a.createElement("img",{src:"img/logo.svg",alt:"Viade",className:"nav-icon",width:"24px",height:"20px",style:{width:"24px"}}))),l?u.a.createElement(Wn,{navigation:n,toolbar:t,isOpenMobile:l,toggleMobileMenu:b,t:a},u.a.createElement(Gn,{navigation:n}),u.a.createElement(Fn,{toolbar:p,open:!0,customClass:"profile-list"})):u.a.createElement(c.Fragment,null,n&&u.a.createElement(Gn,{navigation:n}),t&&u.a.createElement(Fn,{toolbar:t})),u.a.createElement(Un,{toggleMobileMenu:b})))};Hn.defaultProps={sticky:!0};var Xn=Hn,Jn=[{id:"welcome",icon:"img/icon/home.svg",label:"navBar.welcome",to:"/welcome"},{id:"timeline",icon:"img/icon/inicio.svg",label:"navBar.timeline",to:"/timeline"},{id:"friends",icon:"img/icon/friend.svg",label:"navBar.friends",to:"/friends"},{id:"friendsGroups",icon:"img/icon/friendsGroups.svg",label:"navBar.friendsGroups",to:"/friendsGroups"},{id:"createroute",icon:"img/icon/ruta.svg",label:"navBar.createroute",to:"/createrouteselector"}],Yn=[{label:"navBar.profile",onClick:"profileRedirect",icon:"cog"},{label:"navBar.logOut",onClick:"logOut",icon:"lock"}];function Zn(){var e=Object(x.a)(["\n  display: inline-block;\n  margin-left: 10px;\n"]);return Zn=function(){return e},e}function Kn(){var e=Object(x.a)(["\n  background: #cccccc;\n  display: block;\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(x.a)(["\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n"]);return Qn=function(){return e},e}function $n(){var e=Object(x.a)(["\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  background-size: cover;\n  overflow: hidden;\n  visibility: ",";\n  display: ",";\n"]);return $n=function(){return e},e}var et,nt=E.default.div($n(),function(e){return e.show?"visible":"hidden"},function(e){return e.show?"block":"none"}),tt=E.default.img(Qn()),rt=Object(E.default)(nt)(Kn()),at=(E.default.span(Zn()),function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).state={imageLoaded:!1},t.profileRedirect=function(){return t.props.history.push("/profile")},t.onImageLoaded=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setState({imageLoaded:!0}));case 1:case"end":return e.stop()}},e)})),t.logOut=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.logout();case 3:localStorage.removeItem("solid-auth-client"),window.location="#/login",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,"Error");case 10:case"end":return e.stop()}},e,null,[[0,7]])})),t.getProfileData=Object(L.a)(C.a.mark(function e(){var n,r,a,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=B.a.user,e.next=4,n.vcard_hasPhoto;case 4:r=e.sent,a=t.state.image,i=r?r.value:a,t.setState({image:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),D(e.t0.message,"Error");case 13:case"end":return e.stop()}},e,null,[[0,10]])})),t.state={image:"img/icon/empty-profile.svg"},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidMount",value:function(){this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var n=this.props.webId;if(n&&n!==e.webId&&this.getProfileData(),this.context){var t=this.context.timestamp;t!==et&&(this.getProfileData(),et=t)}}},{key:"render",value:function(){var e=this,n=this.props,t=n.t,r=n.open,a=n.customClass,i=this.state,o=i.imageLoaded,c=i.image,l=Yn.map(function(n){return Object(Y.a)({},n,{label:t(n.label),onClick:e[n.onClick]})});return c?u.a.createElement(Le,{actions:l,className:"nav-bar--profile ".concat(a),open:r,hover:!0},u.a.createElement(nt,{show:o},u.a.createElement(tt,{show:o,src:c,alt:"profile",onLoad:this.onImageLoaded})),!o&&u.a.createElement(rt,{show:!0})):u.a.createElement("div",null)}}]),n}(c.Component));at.contextType=ne.UpdateContext;var it=at,ot=u.a.memo(function(e){var n=e.webId;return n?u.a.createElement(ne.LiveUpdate,{subscribe:n.split("#")[0]},u.a.createElement(it,e)):null}),ct=u.a.memo(function(e){var n=Object(c.useState)([]),t=Object(Qe.a)(n,2),a=t[0],o=t[1],l=Object(f.b)(),s=l.t,d=l.i18n,p=Jn.map(function(e){return Object(Y.a)({},e,{label:s(e.label)})}),m=e.webId,g=Object(c.useCallback)(Object(L.a)(C.a.mark(function e(){var n,t,a,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,r.discoverInbox(m);case 4:return(t=e.sent)&&(n=[].concat(Object(Z.a)(n),[{path:t,inboxName:s("navBar.notifications.global"),shape:"default"}])),e.next=8,i.getAppStorage(m);case 8:return a=e.sent,e.next=11,r.discoverInbox("".concat(a,"settings.ttl"));case 11:(c=e.sent)&&(n=[].concat(Object(Z.a)(n),[{path:c,inboxName:s("navBar.notifications.tictactoe"),shape:"default"}])),0===n.length&&D(s("noInboxUser.message"),"Error",{label:s("noInboxUser.link.label"),href:s("noInboxUser.link.href")}),o(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),D(e.t0.message,s("navBar.notifications.fetchingError"));case 20:case"end":return e.stop()}},e,null,[[0,17]])})),[m,a]);Object(c.useEffect)(function(){m&&g()},[m]);var h=e.history;return u.a.createElement(Xn,{navigation:p,sticky:!0,toolbar:[{component:function(){return u.a.createElement(Ke,{t:s,i18n:d})},id:"language"},{component:function(){return u.a.createElement(or,{webId:m,inbox:a})},id:"notifications"},{component:function(e){return u.a.createElement(ot,Object(Y.a)({t:s,i18n:d,webId:m,history:h},e))},id:"profile"}]})}),ut=u.a.memo(function(e){var n=e.location,t=e.webId,r=e.history;return u.a.createElement(ct,{location:n,webId:t,history:r})});function lt(){var e=Object(x.a)(["\n  color: white;\n"]);return lt=function(){return e},e}function st(){var e=Object(x.a)(["\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  position: absolute;\n  padding: 20px;\n  top: 0;\n  left: 0;\n  border: 3px solid white;\n  color: white;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n"]);return st=function(){return e},e}function dt(){var e=Object(x.a)(["\n  border: none;\n  background: rgba(23, 20, 34, 0.73);\n  border-radius: 360px;\n  display: block;\n  transition: all 0.3s ease-in;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  padding: 20px;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  &:hover {\n    border: 3px solid white;\n    color: white;\n  }\n"]);return dt=function(){return e},e}function ft(){var e=Object(x.a)(["\n  width: 128px;\n  position: relative;\n  padding-bottom: 100%;\n  background-size: cover;\n  overflow: hidden;\n  border-radius: 360px;\n  img {\n    border-radius: 360px;\n    border: 3px solid white;\n    box-sizing: border-box;\n    width: 100%;\n    height: 128px;\n  }\n  &:hover {\n    button {\n      opacity: 1;\n    }\n  }\n  .upload-icon {\n    display: block;\n    margin: 0 auto 10px auto;\n    font-size: 1.6rem;\n    opacity: 0.7;\n  }\n"]);return ft=function(){return e},e}var pt=E.default.div(ft()),mt=E.default.button(dt()),gt=E.default.div(st()),ht=E.default.p(lt()),bt=function(e){var n=e.uploadedFiles,t=e.photo,r=e.overrideEventDefaults,a=e.onDragLeave,i=e.onDragEnter,o=e.onDrop,c=e.onClickFile,l=e.inProgress,s=n&&n.length>0?n[n.length-1].uri:t,d=Object(f.b)().t;return u.a.createElement(pt,{onDragStart:r,onDragOver:r,onDragEnd:r,onDrag:r,onDragLeave:a,onDragEnter:i,onDrop:o,style:s&&""!==s&&{backgroundImage:"url(".concat(s,")")}},u.a.createElement(mt,{onClick:c,className:"button-upload"},u.a.createElement(Ee.a,{icon:"upload",className:"upload-icon"}),d("imageProfile.text")),l&&u.a.createElement(gt,{className:"image-profile-loader"},u.a.createElement(Ee.a,{icon:"spinner",spin:!0,size:"2x"}),u.a.createElement(ht,null,d("imageProfile.upload"))))},vt=Object(f.c)()(function(e){var n=e.t,t=Object(pn.a)({prefix:"fab",iconName:"github"});return u.a.createElement("footer",{className:"solid-footer footer"},u.a.createElement("section",{className:"solid-footer__content"},u.a.createElement("div",{className:"solid-footer__content--copyright"},u.a.createElement("ul",null,u.a.createElement("li",null,"\xa9 Viade"),u.a.createElement("li",null,n("footer.version"),""," ",u.a.createElement("span",{className:"build-value"},"1.0.0")))),u.a.createElement("div",{className:"solid-footer__content--links"},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("a",{href:"https://github.com/Arquisoft/viade_es2c",target:"_blank",rel:"noopener noreferrer"},u.a.createElement(Ee.a,{className:"link-icon",icon:t}),"Viade-ES2C"))))))});function xt(){var e=Object(x.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  border-radius: 0;\n\n  &:active,\n  &:focus,\n  &:hover,\n  &.active {\n    background: white;\n    outline: none;\n  }\n\n  .icon {\n    width: 18px;\n    height: 18px;\n    position: relative;\n  }\n"]);return xt=function(){return e},e}var Et=E.default.button(xt()),wt=function(e){var n=e.unread,t=e.onClick,r=e.active;return u.a.createElement(Et,{className:"bell-icon ".concat(r?"active":""),onClick:t,type:"button"},u.a.createElement("div",{className:"icon"},n>0&&u.a.createElement(ze,{badge:n}),u.a.createElement("img",{src:"img/icon/notificacion.svg",alt:"notifications",className:"nav-icon",width:"40px",height:"20px",style:{width:"24px"}})))},yt=t(244),Ot=t.n(yt);function jt(){var e=Object(x.a)(["\n  max-width: 30px;\n  border-radius: 60px;\n  height: 30px;\n"]);return jt=function(){return e},e}function kt(){var e=Object(x.a)(["\n  position: absolute;\n  top: 3px;\n  right: 0;\n  border: 0;\n  padding: 0;\n  margin: 5px 7px;\n  color: #ffa600;\n"]);return kt=function(){return e},e}function Nt(){var e=Object(x.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  outline: none;\n  border: none;\n  position: absolute;\n  right: 6px;\n  top: 54%;\n  transform: translateY(-50%);\n  &:active {\n    outline: none;\n  }\n"]);return Nt=function(){return e},e}function St(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n  & > .moment {\n    color: #89969f;\n    font-family: Raleway;\n    font-size: 11px;\n    font-weight: bold;\n    line-height: 14px;\n  }\n"]);return St=function(){return e},e}function Ct(){var e=Object(x.a)(["\n  color: #374c5d;\n  font-family: Raleway;\n  font-size: 13px;\n  line-height: 14px;\n  & strong {\n    font-weight: 700;\n  }\n"]);return Ct=function(){return e},e}function Pt(){var e=Object(x.a)(["\n  padding: 0 14px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Pt=function(){return e},e}function It(){var e=Object(x.a)(["\n  border-bottom: 2px solid rgb(227, 231, 237);\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  padding: 12px;\n  align-items: center;\n  background: ",";\n  position: relative;\n  min-height: 60px;\n\n  & > img {\n    width: 40px;\n    height: 40px;\n  }\n\n  .delete {\n    display: none;\n  }\n  &:hover {\n    .delete {\n      display: block;\n    }\n  }\n"]);return It=function(){return e},e}var Rt=E.default.li(It(),function(e){return e.read?"#FFF":"rgb(245, 249, 254)"}),Dt=E.default.div(Pt()),Tt=E.default.div(Ct()),Lt=E.default.div(St()),At=(E.default.button(Nt()),E.default.button(kt()),E.default.img(jt())),_t=function(e){var n=e.notification,t=(e.markAsRead,e.children),r=n.read,a=!!r&&JSON.parse(r),i=n.actor,o=n&&n.actor&&n.actor.image?n.actor.image:"img/icon/empty-profile.svg";return u.a.createElement(Rt,{read:a},u.a.createElement("a",{href:n.actor&&n.actor.webId},u.a.createElement(At,{src:o,alt:"Creator",onError:function(e){e.target.onerror=null,e.target.src="img/icon/empty-profile.svg"}})),u.a.createElement(Dt,null,u.a.createElement(Tt,null,u.a.createElement("strong",null,i&&i.name)," ",n.summary),u.a.createElement(Lt,null,u.a.createElement("span",{className:"moment"},Ot()(n.published).fromNow()),t)))};function zt(){var e=Object(x.a)(["\n  display: inherit;\n  margin: 20px;\n  text-align: center;\n"]);return zt=function(){return e},e}function Bt(){var e=Object(x.a)(["\n  overflow-y: auto;\n  max-height: 350px;\n  flex: 1 1 auto;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  padding: 0;\n  margin: 0;\n  height: 100%;\n"]);return Bt=function(){return e},e}var Ft=E.default.ul(Bt()),Mt=E.default.span(zt()),Gt=function(e){var n=e.notifications,t=e.markAsRead,r=e.deleteNotification;return u.a.createElement(c.Fragment,null,n&&n.length>0?u.a.createElement(Ft,null,n.map(function(e){return u.a.createElement(_t,{key:e.id,notification:e,markAsRead:t,deleteNotification:r})})):u.a.createElement(Mt,{className:"empty-list"},"No notifications to show"))};function Ut(){var e=Object(x.a)(["\n  display: inline-block;\n  margin: 0 3px;\n  button {\n    padding: 10px;\n    border-bottom: none;\n    border-radius: 0;\n\n    &.active {\n      border-color: #5361fd;\n      background: #5361fd;\n\n      &:hover {\n        color: white;\n      }\n    }\n\n    &:hover {\n      border-color: #5361fd;\n      color: #5361fd;\n    }\n  }\n"]);return Ut=function(){return e},e}function qt(){var e=Object(x.a)(["\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 auto;\n  border-bottom: 1px solid #cfdce6;\n"]);return qt=function(){return e},e}var Vt=E.default.ul(qt()),Wt=E.default.li(Ut()),Ht=function(e){var n=e.list,t=e.click,r=e.activeName,a=Object(c.useState)(null),i=Object(Qe.a)(a,2),o=i[0],l=i[1],s=Object(c.useCallback)(function(){var e=Object(L.a)(C.a.mark(function e(n){var r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(r=o===n?"":n),e.next=4,t(r);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),[n,o]);return Object(c.useEffect)(function(){l(r)},[]),u.a.createElement(Vt,null,n&&n.map(function(e){return u.a.createElement(Wt,{key:e.path},u.a.createElement("button",{onClick:function(){return s(e.inboxName)},type:"button",className:o===e.inboxName?"active":""},e.inboxName))}))};function Xt(){var e=Object(x.a)(["\n  padding: 16px;\n  margin: 0;\n  text-transform: uppercase;\n  color: #5361fd;\n  font-family: Raleway;\n  font-size: 14px;\n  letter-spacing: 1.2px;\n  line-height: 14px;\n  flex: 0 0 50px;\n  box-sizing: border-box;\n"]);return Xt=function(){return e},e}function Jt(){var e=Object(x.a)(["\n    right: 0;\n    min-width: 351px;\n  "]);return Jt=function(){return e},e}function Yt(){var e=Object(x.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  min-width: 340px;\n  min-height: 320px;\n  background: #ffffff;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.3);\n  top: calc(100% + 2px);\n  right: -210px;\n  z-index: 99999;\n  border: solid 1px #cfdce6;\n\n  ","\n"]);return Yt=function(){return e},e}var Zt=E.default.div(Yt(),R.tablet(Jt())),Kt=E.default.h2(Xt()),Qt=function(e){var n=e.notifications,t=e.markAsRead,r=e.deleteNotification,a=e.filterNotification,i=e.tabs,o=e.isLoading;return u.a.createElement(Zt,null,u.a.createElement(Kt,null,"Notifications"),o?u.a.createElement(Xe,{absolute:!0}):u.a.createElement(u.a.Fragment,null,u.a.createElement(Ht,{list:i,click:a}),u.a.createElement(Gt,{notifications:n,markAsRead:t,deleteNotification:r})))},$t=t(523);function er(){var e=Object(x.a)(["\n    position: relative;\n    width: 60px;\n    height: 100%;\n    left: inherit;\n    top: inherit;\n  "]);return er=function(){return e},e}function nr(){var e=Object(x.a)(["\n  position: fixed;\n  z-index: 3;\n  top: 17px;\n  left: 47px;\n\n  & .notifications-enter {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  & .notifications-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 300ms, transform 300ms;\n  }\n  & .notifications-exit {\n    opacity: 1;\n  }\n  & .notifications-exit-active {\n    opacity: 0;\n    transform: scale(0.8);\n    transition: opacity 300ms, transform 300ms;\n  }\n  ","\n"]);return nr=function(){return e},e}var tr,rr=E.default.div(nr(),R.desktopSm(er())),ar=function(e,n){Object(c.useEffect)(function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e,n])},ir=function(e){var n=e.webId,t=e.inbox,r=Object(c.useState)(!1),a=Object(Qe.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(!1),s=Object(Qe.a)(l,2),d=s[0],f=s[1],p=Object(c.useRef)(),m=Object(ne.useNotification)(n),g=m.notification,h=m.markAsReadNotification,b=m.deleteNotification,v=m.fetchNotification,x=m.filterNotification,E=Object(ne.useLiveUpdate)().timestamp,w=g.notifications,y=g.unread,O=g.notify,j=E&&E.toString();ar(p,function(){return o(!1)});var k=function(){var e=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,v(t);case 4:f(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){n&&O&&k()},[t,O]),Object(c.useEffect)(function(){j&&tr!==j&&(k(),tr=j)},[E]),u.a.createElement(rr,{ref:p},u.a.createElement(wt,{unread:y||0,onClick:function(){return o(!i)},active:i}),u.a.createElement($t.a,{in:i,timeout:300,classNames:"notifications",unmountOnExit:!0,mountOnEnter:!0},u.a.createElement(Qt,{notifications:w,markAsRead:h,deleteNotification:b,tabs:t,filterNotification:x,isLoading:d})))},or=u.a.memo(function(e){var n=e.webId,t=e.inbox,r=t.map(function(e){return e.path});return r?u.a.createElement(ne.LiveUpdate,{subscribe:r},u.a.createElement(ir,{webId:n,inbox:t})):null});function cr(){var e=Object(x.a)(["\n  margin-top: 20px;\n"]);return cr=function(){return e},e}var ur=E.default.span(cr()),lr=Object(c.memo)(function(e){var n=e.inProgress,t=e.result,r=e.setResult,a=e.setSavingProcess,i=Object(c.useState)(null),o=Object(Qe.a)(i,2),l=o[0],s=o[1];return Object(c.useEffect)(function(){return function(){clearTimeout(l)}},[]),Object(c.useEffect)(function(){t&&(l&&clearTimeout(l),"success"===t.toLowerCase()&&s(setTimeout(function(){r(null),a(!1)},2e3)))},[t]),u.a.createElement(ur,null,n&&u.a.createElement("div",null,u.a.createElement(Ee.a,{icon:"spinner",spin:!0})),t&&!n&&u.a.createElement("div",null,"success"===t.toLowerCase()&&u.a.createElement(Ee.a,{icon:"check-circle"}),"error"===t.toLowerCase()&&u.a.createElement(Ee.a,{icon:"exclamation-triangle"})))}),sr=t(79),dr=t(245),fr=t.n(dr);function pr(){var e=Object(x.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 18px;\n  height: 18px;\n  background-color: #000;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  user-select: none;\n  transform: translate(-50%, -50%);\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n  }\n"]);return pr=function(){return e},e}var mr=E.default.div(pr(),function(e){return e.onClick?"pointer":"default"}),gr=function(e){return u.a.createElement(mr,Object.assign({alt:e.text},e.onClick?{onClick:e.onClick}:{}))};gr.defaultProps={onClick:null};var hr=gr,br=function(e){function n(e){var t;Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).handleGoogleMapApi=function(e){new e.maps.Polyline({path:t.markers,geodesic:!0,strokeColor:"#33BD4E",strokeOpacity:1,strokeWeight:5}).setMap(e.map)},t.cargarMarcadores=function(e){for(var n=[],t=0;t<e.length;t++)n.push(u.a.createElement(hr,{text:"",lat:e[t].lat,lng:e[t].lng,key:t}));return n},t.getLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){t.setState({center:{lat:e.coords.latitude,lng:e.coords.longitude}})})},t.handleGoogleMapApi=t.handleGoogleMapApi.bind(Object(sr.a)(Object(sr.a)(t))),t.markers=[];for(var r=0;r<t.props.markers.length;r++){var a={lat:parseFloat(t.props.markers[r].position.lat),lng:parseFloat(t.props.markers[r].position.lng)};t.markers.push(a)}return t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"render",value:function(){return this.center={lat:this.markers[0].lat,lng:this.markers[0].lng},u.a.createElement("div",{style:{height:"70vh",width:"100%"}},u.a.createElement(fr.a,{bootstrapURLKeys:{key:"AIzaSyC6j4mF6blrc4kZ54S6vYZ2_FpMY9VzyRU"},defaultCenter:this.center,defaultZoom:this.props.zoom,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:this.handleGoogleMapApi},this.cargarMarcadores(this.markers)))}}]),n}(c.Component),vr=t(246),xr=t.n(vr),Er=t(111),wr={display:"flex",padding:"30px 0",position:"relative",width:"auto",height:"30em"},yr={display:"flex",flexDirection:"row",height:"30em",width:"auto"},Or=function(e){function n(){var e,t;Object(ge.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(be.a)(this,(e=Object(ve.a)(n)).call.apply(e,[this].concat(a)))).sendData=function(){t.props.parentCallback(t.state.markers)},t.state={markers:[],center:{lat:40.4165,lng:-3.70256}},t._onClick=function(e,n,r){var a=t.state.markers;a=xr()(a,{$push:[{position:{lat:r.latLng.lat(),lng:r.latLng.lng()},defaultAnimation:2,key:Date.now()}]}),t.setState({markers:a}),t.sendData()},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"getLocation",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){e.setState({center:{lat:n.coords.latitude,lng:n.coords.longitude}})})}},{key:"crearlinea",value:function(){for(var e=[],n=0;n<this.state.markers.length;n++)e.push({lat:this.state.markers[n].position.lat,lng:this.state.markers[n].position.lng});return e}},{key:"render",value:function(){return this.getLocation(),u.a.createElement(Er.Map,{google:this.props.google,zoom:14,onClick:this._onClick,center:this.state.center,style:yr,containerStyle:wr},this.state.markers.map(function(e,n){return u.a.createElement(Er.Marker,{position:{lat:e.position.lat,lng:e.position.lng}})}),u.a.createElement(Er.Polyline,{path:this.crearlinea(),strokeColor:"#005F11",strokeOpacity:.8,strokeWeight:4}))}}]),n}(c.Component),jr=Object(Er.GoogleApiWrapper)({apiKey:"AIzaSyC6j4mF6blrc4kZ54S6vYZ2_FpMY9VzyRU"})(Or);function kr(){var e=Object(x.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return kr=function(){return e},e}function Nr(){var e=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return Nr=function(){return e},e}function Sr(){var e=Object(x.a)(["\n  height: 100%;\n  position: relative;\n"]);return Sr=function(){return e},e}var Cr=E.default.div(Sr()),Pr=E.default.div(Nr()),Ir=Object(f.c)()(Object(ne.withWebId)(function(e){var n=e.component,t=e.webId,r=Object(hn.a)(e,["component","webId"]),a=Object(f.b)().t,i=Object(E.default)(n)(kr());return t?u.a.createElement(vn.a,{to:"/welcome"}):u.a.createElement(bn.a,Object.assign({},r,{component:function(n){return u.a.createElement(Cr,null,u.a.createElement(Xn,Object.assign({},n,{toolbar:[{component:function(){return u.a.createElement(Ke,Object(Y.a)({t:a},e))},id:"language"}]})),u.a.createElement(i,n),u.a.createElement(Pr,null,u.a.createElement(vt,null)))}}))})),Rr=t(528);function Dr(){var e=Object(x.a)(["\n  padding-top: 60px;\n  flex: 1 0 auto;\n  display: flex;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return Dr=function(){return e},e}function Tr(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-x: hidden;\n  min-height: 100vh;\n"]);return Tr=function(){return e},e}var Lr=E.default.div(Tr()),Ar=E.default.div(Dr()),_r=Object(ne.withAuthorization)(function(e){var n=e.routes,t=e.webId,r=e.location,a=(e.history,Object(hn.a)(e,["routes","webId","location","history"])),i=Object(f.b)().t,l={message:i("appPermission.message"),title:i("notifications.error"),label:i("appPermission.link.label"),href:i("appPermission.link.href")};return Object(c.useEffect)(function(){t&&o.checkPermissions(t,l)},[t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(Lr,null,u.a.createElement(bn.a,Object.assign({},a,{component:function(e){var a=e.history;return u.a.createElement(Ar,{className:"contentApp"},u.a.createElement(ut,{location:r,webId:t,history:a}),u.a.createElement(Rr.a,null,n.map(function(e){var n=e.component;return u.a.createElement(bn.a,{key:e.id,path:e.path,render:function(e){return u.a.createElement(n,Object.assign({},e,{webId:t}))},webId:t,exact:!0})}),u.a.createElement(vn.a,{to:"/404"})))}})),u.a.createElement(vt,null)))});function zr(){var e=Object(x.a)(["\n    padding-bottom: 60px;\n    height: 100%;\n    padding-top: 60px;\n  "]);return zr=function(){return e},e}function Br(){var e=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return Br=function(){return e},e}function Fr(){var e=Object(x.a)(["\n  min-height: 100%;\n  position: relative;\n"]);return Fr=function(){return e},e}var Mr=E.default.div(Fr()),Gr=E.default.div(Br()),Ur=function(e){var n=Object(ne.useWebId)(),t=e.component,r=Object(hn.a)(e,["component"]),a=Object(f.b)(),i=a.t,o=a.i18n,c=Object(E.default)(t)(zr());return u.a.createElement(bn.a,Object.assign({},r,{component:function(e){var t=e.history,r=e.location,a=e.match;return u.a.createElement(Mr,null,n?u.a.createElement(ut,{history:t,location:r,match:a,webId:n}):u.a.createElement(Xn,Object.assign({history:t,location:r,match:a},{toolbar:[{component:function(){return u.a.createElement(Ke,{t:i,i18n:o})},id:"language"},{component:function(){return u.a.createElement(Bn.a,{to:"/login"},"Login")},label:"authComponent",id:"authComponent"}]})),u.a.createElement(c,{history:t,location:r,match:a}),u.a.createElement(Gr,null,u.a.createElement(vt,null)))}}))},qr=t(525);function Vr(){var e=Object(x.a)(["\n  color: #656e75;\n  font-family: Raleway;\n  font-size: 16px;\n  font-weight: 500;\n  letter-spacing: 1.2px;\n  line-height: 19px;\n  text-align: center;\n  position: relative;\n  margin: 30px 0;\n  display: inline-block;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &::before,\n  &::after {\n    width: 32%;\n    content: '';\n    background: #656e75;\n    height: 1px;\n    box-sizing: border-box;\n    top: 50%;\n  }\n\n  span {\n    padding: 0 5px;\n  }\n\n  &::before {\n    right: 0;\n  }\n\n  &::after {\n    left: 0;\n  }\n"]);return Vr=function(){return e},e}function Wr(){var e=Object(x.a)(["\n  display: grid;\n  flex-direction: column;\n\n  .provider-login-component {\n    div[role='option'] {\n      text-align: left !important;\n      padding-left: 20px;\n    }\n  }\n"]);return Wr=function(){return e},e}function Hr(){var e=Object(x.a)([""]);return Hr=function(){return e},e}function Xr(){var e=Object(x.a)(["\n  h1 {\n    color: #ffffff;\n  }\n  margin-top: 60px;\n"]);return Xr=function(){return e},e}var Jr=Object(E.default)(O)(Xr()),Yr=Object(E.default)(me)(Hr()),Zr=E.default.div(Wr()),Kr=E.default.span(Vr()),Qr=function(){function e(){Object(ge.a)(this,e)}return Object(he.a)(e,null,[{key:"getIdentityProviders",value:function(){return[{id:"inrupt",label:"Inrupt",image:"img/inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{id:"solid-community",label:"Solid Community",image:"img/Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}]}}]),e}(),$r=function(){var e=Object(f.b)().t;return u.a.createElement(Jr,{"data-testid":"login-wrapper"},u.a.createElement(N,null,u.a.createElement("h1",{"data-testid":"title"},e("login.title")),u.a.createElement(Yr,{className:"login-panel"},u.a.createElement(Zr,{className:"panel-body"},u.a.createElement(Bn.a,{className:"ids-link-filled ids-link-filled--primary",to:"/register"},e("login.register")),u.a.createElement("a",{href:"https://solid.inrupt.com/get-a-solid-pod",rel:"noopener noreferrer",target:"_blank",className:"link"},e("login.solidHelp")),u.a.createElement(Kr,{"data-testid":"login-title"},u.a.createElement("span",null,e("login.loginTitle"))),u.a.createElement(ne.ProviderLogin,{selectPlaceholder:e("login.selectPlaceholder"),inputPlaholder:e("login.inputPlaholder"),formButtonText:e("login.formButtonText"),btnTxtWebId:e("login.btnTxtWebId"),btnTxtProvider:e("login.btnTxtProvider"),className:"provider-login-component",callbackUri:"".concat(window.location.origin,"/").concat("viade_es2c/","#/welcome"),errorsText:{unknown:e("login.errors.unknown"),webIdNotValid:e("login.errors.webIdNotValid"),emptyProvider:e("login.errors.emptyProvider"),emptyWebId:e("login.errors.emptyWebId")},theme:{buttonLogin:"ids-link",inputLogin:"",linkButton:""},providers:Qr.getIdentityProviders()})))))};function ea(){var e=Object(x.a)(["\n  height: 32px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n\n  button {\n    height: 32px;\n    width: 150px;\n    border-radius: 4px;\n    font-family: Raleway;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 0.89px;\n    line-height: 11px;\n    text-align: center;\n    text-transform: uppercase;\n    border: solid 2px #449df5;\n    box-sizing: border-box;\n  }\n\n  .btn-solid {\n    background-color: #449df5;\n    color: #ffffff;\n  }\n\n  .btn-outlined {\n    background-color: #ffffff;\n    color: #449df5;\n    filter: opacity(40%);\n  }\n"]);return ea=function(){return e},e}function na(){var e=Object(x.a)(["\n  height: 100% !important;\n  animation: fadeIn 0.2s ease-in;\n\n  a {\n    display: block;\n    color: #449df5;\n    font-family: Raleway;\n    font-size: 12px;\n    font-weight: 500;\n    letter-spacing: 0.75px;\n    line-height: 14px;\n    text-align: center;\n    text-decoration: none;\n\n    &:hover {\n      font-weight: 700;\n    }\n  }\n\n  .a-with-spacing {\n    margin: 24px 0;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n"]);return na=function(){return e},e}function ta(){var e=Object(x.a)(["\n  position: relative;\n\n  h2 {\n    position: relative;\n    padding: 0;\n    color: #5361fd;\n    font-family: Raleway;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0.75px;\n    line-height: 24px;\n    text-align: center;\n    margin: 0;\n    animation: fadeIn 0.5s ease-in;\n  }\n\n  .progress-bar {\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    background: #5361fd;\n    top: 30px;\n  }\n"]);return ta=function(){return e},e}function ra(){var e=Object(x.a)(["\n  justify-content: space-between;\n"]);return ra=function(){return e},e}function aa(){var e=Object(x.a)(["\n  h1 {\n    color: #ffffff;\n  }\n\n  //Todo: figure out why this is necessary\n  margin-top: 100px;\n"]);return aa=function(){return e},e}var ia=E.default.section(aa()),oa=Object(E.default)(me)(ra()),ca=E.default.div(ta()),ua=E.default.div(na()),la=E.default.div(ea());function sa(){var e=Object(x.a)(["\n  list-style: none;\n  padding: 10px 0;\n  margin: 0;\n\n  & input[type='radio'] {\n    display: none;\n\n    &:checked {\n      + "," {\n        border-color: #5361fd;\n        color: #5361fd;\n\n        .checked {\n          display: block;\n          color: green;\n        }\n      }\n    }\n  }\n"]);return sa=function(){return e},e}function da(){var e=Object(x.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border: solid 1.2px rgba(115, 127, 137, 1);\n  height: 40px;\n  margin-bottom: 20.5px;\n  box-sizing: border-box;\n  padding-left: 20px;\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: all 0.2s ease-in;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 8px;\n  border-radius: 4px;\n\n  .checked {\n    display: none;\n  }\n\n  &:hover {\n    border-color: #5361fd;\n    color: #5361fd;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .img-group {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 32px;\n      padding-right: 1em;\n    }\n  }\n"]);return da=function(){return e},e}var fa=E.default.label(da()),pa=E.default.li(sa(),fa),ma=function(e){var n=e.data,t=e.onSelect,r=e.radioName,a=e.id,i=e.checked;return u.a.createElement(pa,{"data-testid":"provider-item"},u.a.createElement("input",{type:"radio",name:r,id:a,onChange:t,value:n.registerLink,checked:i}),u.a.createElement(fa,{htmlFor:a,className:"provider-item"},u.a.createElement("div",{className:"img-group"},u.a.createElement("img",{src:n.image,alt:n.label}),u.a.createElement("span",{className:"label"},n.label)),u.a.createElement(Ee.a,{icon:"check",className:"checked"})))};function ga(){var e=Object(x.a)(["\n  text-align: center;\n  margin-top: 40px;\n\n  h1 {\n    color: #ffffff;\n  }\n\n  span {\n    color: #ffffff;\n    font-family: Raleway;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n    text-align: center;\n    display: block;\n    padding: 1.5em 0;\n  }\n\n  .rocket {\n    width: 250px;\n    height: 250px;\n    text-align: center;\n    padding: 40px 0 40px 0;\n  }\n"]);return ga=function(){return e},e}var ha=Object(E.default)(O)(ga()),ba=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).redirect=Object(L.a)(C.a.mark(function e(){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.history,e.next=3,clearInterval(t.interval);case 3:n.push("/login");case 4:case"end":return e.stop()}},e)})),t.countDown=function(){0===t.state.timeLeft&&t.redirect(),t.setState(function(e){return{timeLeft:e.timeLeft-1}})},t.state={timeLeft:15},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.countDown,1e3)}},{key:"componentWillUnmount",value:function(){var e=Object(L.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,clearInterval(this.interval);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.timeLeft;return u.a.createElement(ha,{className:"registration-success--page"},u.a.createElement(N,null,u.a.createElement("h1",null,"Success! Welcome to the decentralized web."),u.a.createElement("img",{src:"img/rocket.svg",alt:"rocket",className:"rocket"}),u.a.createElement("span",null,"We have emailed you more information about your new Solid Identity"),u.a.createElement("span",null,"We will redirect you to your POD in ",e," seconds...")))}}]),n}(c.Component),va=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).next=function(){var e=t.state,n=e.canContinue,r=e.register.provider,a=window.location,i=a.protocol,o=a.host;n&&(window.location="".concat(r,"?returnToUrl=").concat(i,"//").concat(o,"/register/success"))},t.selectProvider=function(e){var n=t.state.register;t.setState({register:Object(Y.a)({},n,{provider:e.target.value}),canContinue:!0})},t.onSubmit=function(e){e.preventDefault();var n=t.state,r=n.canContinue,a=n.register.provider,i=window.location,o=i.protocol,c=i.host;r&&(window.location="".concat(a,"?returnToUrl=").concat(o,"//").concat(c,"/register/success"))},t.state={canContinue:!1,register:{provider:""}},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.canContinue,r=n.register.provider,a=this.props,i=a.providers,o=a.t;return u.a.createElement(O,null,u.a.createElement(N,null,u.a.createElement(ia,{"data-testid":"register-wrapper"},u.a.createElement("h1",{"data-testid":"title"},o("register.title")),u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement(oa,{className:"register-panel"},u.a.createElement(ca,{className:"panel-header","data-testid":"panel-header"},u.a.createElement("h2",null,o("register.step1Title")),u.a.createElement("div",{className:"progress-bar"})),u.a.createElement(ua,{className:"panel-body"},u.a.createElement(c.Fragment,null,u.a.createElement("a",{href:"https://solid.inrupt.com/how-it-works",target:"_blank",rel:"noopener noreferrer"},o("register.whatIsAProvider")),u.a.createElement(Bn.a,{to:"/login",className:"a-with-spacing"},o("register.alreadySolid")),u.a.createElement("ul",null,i.map(function(n){return u.a.createElement(ma,{data:n,key:n.id,onSelect:e.selectProvider,radioName:"providerRadio",id:"radio-".concat(n.id),checked:n.registerLink===r})})))),u.a.createElement(la,{className:"actions"},u.a.createElement("button",{className:"btn-solid",onClick:this.next,type:"submit",disabled:!t},o("register.next"))))))))}}]),n}(c.Component),xa=Object(f.c)()(va),Ea=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).state={providers:[]},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidMount",value:function(){var e=Object(L.a)(C.a.mark(function e(){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr.getIdentityProviders();case 2:n=e.sent,this.setState({providers:n});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.providers;return u.a.createElement(xa,Object.assign({providers:e},this.props))}}]),n}(c.Component);function wa(){var e=Object(x.a)(["\n  max-width: 54%;\n  margin: 100px 40px 0 50px;\n\n  @media only screen and (max-width: 900px) {\n    max-width: 100%;\n    margin: 20px 40px;\n    text-align: center;\n  }\n\n  @media only screen and (max-width: 600px) {\n    img {\n      width: 100%;\n    }\n  }\n"]);return wa=function(){return e},e}function ya(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  background-image: url('img/spaceman.svg');\n  background-repeat: no-repeat;\n  background-position-x: -125px;\n  background-position-y: 100px;\n  height: 100%;\n\n  @media only screen and (max-width: 900px) {\n    background-image: url('img/spaceman-mobile.svg');\n    background-position: left -80px bottom -10px;\n    background-size: 70%;\n  }\n"]);return ya=function(){return e},e}var Oa=E.default.section(ya()),ja=E.default.div(wa()),ka=function(){var e=Object(f.b)().t;return u.a.createElement(Oa,null,u.a.createElement(ja,null,u.a.createElement("img",{src:"img/404.svg",alt:"404"}),u.a.createElement("h3",null,e("notFound.title")),u.a.createElement("p",null,e("notFound.content")),u.a.createElement("div",null,u.a.createElement(Bn.a,{to:"/",className:"ids-link"},e("notFound.redirectButton")))))},Na=t(106);function Sa(){var e=Object(x.a)(["\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]);return Sa=function(){return e},e}function Ca(){var e=Object(x.a)(["\n  padding: 1rem 3.5rem;\n\n  p,\n  li {\n    color: #666666;\n  }\n  ul {\n    list-style: disc;\n    margin: 0 18px;\n  }\n"]);return Ca=function(){return e},e}function Pa(){var e=Object(x.a)(["\n  background-image: ",";\n  background-size: cover;\n  border-radius: 50%;\n  width: 128px;\n  height: 128px;\n"]);return Pa=function(){return e},e}function Ia(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Ia=function(){return e},e}function Ra(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return Ra=function(){return e},e}function Da(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n  margin: auto;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return Da=function(){return e},e}function Ta(){var e=Object(x.a)(["\n  width: 50%;\n  height: 50%;\n\n  img {\n    width: 50%;\n    display: block;\n    margin: 0 auto;\n  }\n"]);return Ta=function(){return e},e}function La(){var e=Object(x.a)(["\n  background-color: #fff;\n  // margin: auto;\n  // vertical-align: middle;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 50px 0 !important; //temporary fix to a style guide bug\n  height: 500px;\n\n  align-items: center;\n\n  a {\n    text-decoration: none;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n\n  button {\n    margin-left: 8px;\n  }\n"]);return La=function(){return e},e}function Aa(){var e=Object(x.a)(["\n  width: 100%;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n    \n  //padding: 50px 0;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n"]);return Aa=function(){return e},e}var _a=E.default.section(Aa()),za=E.default.div(La()),Ba=E.default.div(Ta()),Fa=E.default.div(Da(),R.tablet(Ra())),Ma=E.default.div(Ia()),Ga=(E.default.div(Pa(),function(e){var n=e.image;return n?"url(".concat(n,")"):"#cccccc"}),E.default.div(Ca()),E.default.span(Sa())),Ua=t(521),qa=t(516),Va=t(517),Wa=(t(64),t(346),function(e){var n=e.webId,t=e.image,r=e.updatePhoto,a=e.name,i=Object(f.b)().t;return u.a.createElement(_a,{"data-testid":"welcome-wrapper"},u.a.createElement(za,{className:"card mx-2 my-auto"},u.a.createElement(Ua.a,{className:"h-100 w-100 mh-80 d-inline-block",wrap:!0,nextIcon:u.a.createElement("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),prevIcon:u.a.createElement("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"})},u.a.createElement(Ua.a.Item,null,u.a.createElement(qa.a,{fluid:"sm"},u.a.createElement(Va.a,null,u.a.createElement(Ba,{"data-testid":"welcome-logo"},u.a.createElement("img",{src:"img/logo.svg",alt:"Viade",height:"50%"})),u.a.createElement(Fa,{"data-testid":"welcome-profile"},u.a.createElement("h3",null,i("welcome.welcome"),", ",u.a.createElement(Ga,null,a)),u.a.createElement(Ma,null,u.a.createElement(ne.Uploader,{fileBase:n&&n.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"jpg,jpeg,png",errorsText:{sizeLimit:i("welcome.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:i("welcome.errors.unsupported"),maximumFiles:i("welcome.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,i("welcome.errorTitle"))},onComplete:function(e){r(e[e.length-1].uri,i("welcome.uploadSuccess"),i("welcome.successTitle"))},render:function(e){return u.a.createElement(bt,Object(Y.a)({},e,{webId:n,photo:t,text:i("welcome.upload"),uploadingText:i("welcome.uploadingText")}))}})))))),u.a.createElement(Ua.a.Item,null,u.a.createElement(qa.a,{className:"mh-80 mx-auto"},u.a.createElement(Va.a,null,u.a.createElement("h1",{className:"mx-auto text-success"},"COVID-19")),u.a.createElement(Va.a,{className:"mb-3 mx-auto"},u.a.createElement("h2",{className:"mx-auto"},i("covid.carefull"))),u.a.createElement(Va.a,{className:"mh-80 mx-auto"},u.a.createElement("p",{className:"mx-auto"}," ",i("covid.tip"))),u.a.createElement(Va.a,{className:"mh-80 mx-auto"},u.a.createElement("p",{className:"mx-auto"}," ",i("covid.tip1"))),u.a.createElement(Va.a,{className:"mh-80 mx-auto"},u.a.createElement("p",{className:"mx-auto"}," ",i("covid.tip2"))),u.a.createElement(Va.a,{className:"mh-80 mx-auto"},u.a.createElement("p",{className:"mx-auto"}," ",i("covid.tip3"))))))))}),Ha="img/icon/empty-profile.svg",Xa=function(e){function n(e){var t;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this,e))).getProfileData=Object(L.a)(C.a.mark(function e(){var n,r,a,i,o,c,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isLoading:!0}),r=t.props.webId,a=B.a[r],e.next=5,a.vcard_fn;case 5:return i=e.sent,o=i&&i.value.trim().length>0?i.value:r.toString(),e.next=9,a.vcard_hasPhoto;case 9:(c=e.sent)&&c.value?(u=c.value,n=!0):(n=!1,u=Ha),t.setState({name:o,image:u,isLoading:!1,hasImage:n});case 12:case"end":return e.stop()}},e)})),t.updatePhoto=function(){var e=Object(L.a)(C.a.mark(function e(n,r){var a,i,o,c=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>2&&void 0!==c[2]?c[2]:"",i=t.state.hasImage,e.prev=2,o=B.a.user,!i){e.next=9;break}return e.next=7,o.vcard_hasPhoto.set(Object(Na.namedNode)(n));case 7:e.next=11;break;case 9:return e.next=11,o.vcard_hasPhoto.add(Object(Na.namedNode)(n));case 11:T(r,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),D(e.t0.message,"Error");case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(n,t){return e.apply(this,arguments)}}(),t.state={name:"",image:Ha,isLoading:!1,hasImage:!1},t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"componentDidMount",value:function(){this.props.webId&&this.getProfileData()}},{key:"componentDidUpdate",value:function(e){var n=this.props.webId;n&&n!==e.webId&&this.getProfileData()}},{key:"render",value:function(){var e=this.state,n=e.name,t=e.image,r=e.isLoading,a=this.props.webId;return u.a.createElement(Wa,{name:n,image:t,isLoading:r,webId:a,updatePhoto:this.updatePhoto})}}]),n}(c.Component);function Ja(){var e=Object(x.a)(["\n  border: 1px solid #dae0e6;\n  min-height: 40px;\n  padding: 5px;\n\n  .inrupt-form-group {\n    border: 1px solid #c0c0c0;\n    background-color: #f9f9f9;\n    margin: 15px 0;\n  }\n\n  .input-wrap {\n    margin: 0;\n  }\n\n  input {\n    margin-left: 0;\n  }\n"]);return Ja=function(){return e},e}function Ya(){var e=Object(x.a)(["\n  margin-bottom: 0px !important;\n"]);return Ya=function(){return e},e}function Za(){var e=Object(x.a)(["\n  padding: 20px 40px 0px 40px;\n  position: relative;\n  &:after {\n    background-color: #d8d8d8;\n    display: block;\n    content: '';\n    height: 1px;\n    width: 100%;\n    margin: 25px 0 0 0;\n  }\n  a {\n    display: inline-block;\n    word-break: break-all;\n    margin-left: 10px;\n  }\n"]);return Za=function(){return e},e}function Ka(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #7c4dff 0%, #18a9e6 50%, #01c9ea 100%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n\n  .edit-button {\n    background: rgba(255, 255, 255, 0.1);\n    border: 2px solid white;\n    color: white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: 1rem;\n  }\n"]);return Ka=function(){return e},e}function Qa(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Qa=function(){return e},e}function $a(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return $a=function(){return e},e}var ei=E.default.section($a()),ni=E.default.div(Qa()),ti=E.default.div(Ka()),ri=E.default.div(Za()),ai=E.default.section(Ya()),ii=E.default.div(Ja()),oi=function(e){var n=e.webId,t=e.defaultProfilePhoto,r=Object(c.useState)(""),a=Object(Qe.a)(r,2),i=a[0],o=a[1],l=Object(ne.useLiveUpdate)(),s=Object(f.b)().t,d=function(){var e=Object(L.a)(C.a.mark(function e(){var t,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=7;break}return t=B.a.user,e.next=5,t.vcard_hasPhoto;case 5:r=e.sent,o(r&&r.value);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),D(e.t0.message,"Error 500");case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){d()},[n,l]);var p=function(){var e=Object(L.a)(C.a.mark(function e(n){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=B.a.user,e.next=4,t.vcard_hasPhoto.set(Object(Na.namedNode)(n));case 4:T(s("profile.uploadSuccess"),s("profile.successTitle")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D(e.t0.message,s("profile.errorTitle"));case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(n){return e.apply(this,arguments)}}();return u.a.createElement(ne.Uploader,{fileBase:n&&n.split("/card")[0],limitFiles:1,limitSize:21e5,accept:"png,jpeg,jpg",errorsText:{sizeLimit:s("profile.errors.sizeLimit",{limit:"".concat(2.1,"Mbs")}),unsupported:s("profile.errors.unsupported"),maximumFiles:s("profile.errors.maximumFiles")},onError:function(e){e&&e.statusText&&D(e.statusText,"Error")},onComplete:function(e){p(e[e.length-1].uri)},render:function(e){return u.a.createElement(bt,Object(Y.a)({},e,{webId:n,photo:i||t,text:s("profile.upload"),uploadingText:s("profile.uploadingText")}))}})},ci=function(e){var n=e.webId,t=Object(f.b)().t,r=Object(c.useState)(!1),a=Object(Qe.a)(r,2),i=a[0],o=a[1];return u.a.createElement(ei,{"data-testid":"profile-component"},u.a.createElement(ni,null,n&&u.a.createElement(c.Fragment,null,u.a.createElement(ti,null,u.a.createElement(oi,{webId:n,defaultProfilePhoto:"img/icon/empty-profile.svg"})),u.a.createElement(ai,{className:"banner-wrap--warning banner"},u.a.createElement("div",{className:"banner-wrap__content"},u.a.createElement("i",{className:"icon fa fa-exclamation-circle"}),t("profile.autosaveNotification"))),u.a.createElement(ii,null,u.a.createElement(ri,null,u.a.createElement(Ee.a,{icon:"id-card"}),u.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},n)),u.a.createElement(ne.FormModel,Object.assign({modelPath:"https://solidsdk.inrupt.net/sdk/userprofile.ttl#formRoot",podPath:n,viewer:!1,onInit:function(){return o(!0)},onLoaded:function(){return o(!1)},onSuccess:function(){},onSave:function(){},onError:function(e){e.message.toString().indexOf("Validation failed")<0&&(D(t("formLanguage.renderer.formNotLoaded"),t("notifications.error"),{label:t("errorFormRender.link.label"),href:t("errorFormRender.link.href")}),o(!1))},onAddNewField:function(e){T(t("formLanguage.renderer.fieldAdded"),t("notifications.success"))},onDelete:function(e){T(t("formLanguage.renderer.fieldDeleted"),t("notifications.success"))},settings:{theme:{inputText:"input-wrap",inputCheckbox:"sdk-checkbox checkbox",form:"inrupt-sdk-form",childGroup:"inrupt-form-group"},savingComponent:lr}},{autoSave:!0})))),i&&u.a.createElement(Xe,{absolute:!0})))};function ui(){var e=Object(x.a)(["\n  max-width: 128px;\n  display: inline-block;\n\n"]);return ui=function(){return e},e}function li(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return li=function(){return e},e}function si(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n  ","\n"]);return si=function(){return e},e}function di(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return di=function(){return e},e}function fi(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n"]);return fi=function(){return e},e}function pi(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return pi=function(){return e},e}function mi(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return mi=function(){return e},e}var gi=E.default.section(mi()),hi=E.default.div(pi()),bi=E.default.div(fi()),vi=(E.default.input(di()),E.default.form(si(),R.tablet(li())),E.default.button(ui()),t(99)),xi=t.n(vi),Ei=function(){function e(){Object(ge.a)(this,e)}return Object(he.a)(e,null,[{key:"handleSave",value:function(){var e=Object(L.a)(C.a.mark(function e(n,t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.fetch(n,{method:"PUT",body:t,headers:{"Content-Type":"text/turtle"}});case 2:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}()},{key:"overWrite",value:function(){var e=Object(L.a)(C.a.mark(function e(n,t){var r,a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new xi.a(_.a),e.next=3,r.delete(n).then(function(){return a.handleSave(n,t)});case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}()},{key:"handleLoad",value:function(e,n,t,r){_.a.fetch(e).then(function(){var a=Object(L.a)(C.a.mark(function a(i){var o;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.text();case 2:o=a.sent,i.ok?t(n,o,r):404===i.status?D("Error 404 Not Found "+e,"Error"):D("Error "+i.status+": "+e,"Error");case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"readFolder",value:function(e,n,t){new xi.a(_.a).readFolder(e,[]).then(function(r){var a,i=[];for(a=0;a<r.files.length;a++)i[a]=r.files[a].name;n(e,i,t)},function(n){return D("Error: "+n+", "+e)})}},{key:"createFolder",value:function(e,n,t,r){new xi.a(_.a).createFolder(e,[]).then(function(a){r(e,n,t)},function(n){return D("Error: "+n+", "+e)})}}]),e}(),wi=function(){function e(n,t,r,a,i,o,c,u){Object(ge.a)(this,e),this._name=n,this._description=t,this._points=r,this._author=a,this._comments=i,this._image=o,this._video=c,this._fileName=u}return Object(he.a)(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"description",get:function(){return this._description},set:function(e){this._description=e}},{key:"points",get:function(){return this._points},set:function(e){this._points=e}},{key:"author",get:function(){return this._author},set:function(e){this._author=e}},{key:"comments",get:function(){return this._comments},set:function(e){this._comments=e}},{key:"image",get:function(){return this._image},set:function(e){this._image=e}},{key:"video",get:function(){return this._video},set:function(e){this._video=e}},{key:"fileName",get:function(){return this._fileName},set:function(e){this._fileName=e}}]),e}(),yi=[],Oi=function(){function e(n,t){Object(ge.a)(this,e),this.webID=n,this.file=t}return Object(he.a)(e,[{key:"parse",value:function(){var e=null;try{e=JSON.parse(this.file)}catch(d){return null}try{var n=e.name,t=e.description,r=[],a=this.webID,i=e.comments,o=e.media,c=n.trim().replace(/ /g,"")+(new Date).getTime(),u=[],l=[],s=[];try{o.map(function(e){e["@id"].toString().includes(".mp4")&&l.push(e["@id"]),e["@id"].toString().includes(".jpg")&&u.push(e["@id"]),e["@id"].toString().includes(".png")&&u.push(e["@id"])})}catch(d){}try{i.map(function(e){if(null!=e.comment.text&&null!=e.comment.createdAt){var n={comment:{text:e.text,createdAt:e.createdAt}};s.push(n)}})}catch(d){}try{e.points.map(function(e){r.push({position:{lat:e.latitude,lng:e.longitude}})})}catch(d){}return new wi(n,t,r,a,s,u,l,c)}catch(d){return!0}}}]),e}(),ji=t(136),ki=function(){function e(){Object(ge.a)(this,e),this.errorLoading=!1}return Object(he.a)(e,[{key:"addRoute",value:function(e,n,t){Ei.handleLoad(n,e,this.singleParse.bind(this),t)}},{key:"addRoutes",value:function(e,n){Ei.readFolder(e,this.multiParse.bind(this),n)}},{key:"singleParse",value:function(e,n,t){var r=this;if(null!==new Oi(t,n).parse())this.errorLoading=!0;else{var a={data:n,query:"PREFIX schema: <http://schema.org/>\n      PREFIX viade:<http://arquisoft.github.io/viadeSpec/>\n      PREFIX rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n      \n      SELECT ?name ?description ?commentText ?createdAt ?iri ?lat ?long WHERE {\n       ?route a viade:Route;\n       viade:point ?point ;\n       schema:name ?name;\n       schema:description ?description;\n       viade:hasComments ?comment;\n       viade:hasMediaAttached ?media.\n       OPTIONAL {?media schema:contentUrl ?iri.}\n       ?point schema:latitude ?lat ;\n              schema:longitude ?long.\n        OPTIONAL {?comment schema:text ?commentText;\n                           schema:publishedDate ?createdAt.}\n      }",wanted:"Array"};ji.run(a).then(function(n){try{var a=n[0].name,i=n[0].description,o=r.getPoints(n),c=r.getComments(n),u=r.getImage(n),l=r.getVideo(n),s=new wi(a,i,o,t,c,u,l,e);r.pushRoutes(s)}catch(d){r.errorLoading=!0}},function(e){return r.errorLoading=!0})}}},{key:"pushRoutes",value:function(e){for(var n=0;n<yi.length;n++)if(yi[n].name===e.name)return;yi.push(e)}},{key:"multiParse",value:function(e,n,t){for(var r=0;r<n.length;r++)Ei.handleLoad(e+n[r],n[r],this.singleParse.bind(this),t);this.errorLoading&&function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;Object(v.c)(u.a.createElement(Ze,{content:e,title:n,type:"success",link:t}),{className:"solid-toaster toaster-warning",type:"warning",position:v.c.POSITION.BOTTOM_CENTER})}("Algunas de tus rutas no son compatibles con esta aplicaci\xf3n","AVISO")}},{key:"getPoints",value:function(e){for(var n=[],t=0;t<e.length;t++)void 0!==e[t].lat&&(n[t]={position:{lat:e[t].lat,lng:e[t].long}});return n}},{key:"getComments",value:function(e){for(var n=[],t=new Set,r=0,a=0;a<e.length;a++)void 0!==e[a].commentText&&(t.has(e[a].commentText+", "+e[a].createdAt)||(n[r]={comment:{text:e[a].commentText,createdAt:e[a].createdAt}},r++,t.add(e[a].commentText+", "+e[a].createdAt)));return n}},{key:"getImage",value:function(e){for(var n=[],t=new Set,r=0,a=0;a<e.length;a++)void 0!==e[a].iri&&!t.has(e[a].iri)&&this.notVideo(e[a].iri)&&(n[r]=e[a].iri,r++,t.add(e[a].iri));return n}},{key:"getVideo",value:function(e){for(var n=[],t=new Set,r=0,a=0;a<e.length;a++)void 0!==e[a].iri&&(t.has(e[a].iri)||this.notVideo(e[a].iri)||(n[r]=e[a].iri,r++,t.add(e[a].iri)));return n}},{key:"notVideo",value:function(e){var n=e.split("."),t=n[n.length-1];return"mp4"!==t&&"avi"!==t}}]),e}(),Ni=t(252),Si=t.n(Ni);function Ci(){var e=Object(x.a)(["\n  padding: 1rem 3.5rem;\n    h3 {\n    color: #00B020;\n  }\n  h4 {\n    color: #005F11;\n  }\n"]);return Ci=function(){return e},e}function Pi(){var e=Object(x.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n\n  //Overriding the style guide card flexbox settings\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 50px 0 !important; //temporary fix to a style guide bug\n  align-items: center;\n"]);return Pi=function(){return e},e}var Ii=E.default.div(Pi()),Ri=E.default.div(Ci()),Di=t(253),Ti=t.n(Di);function Li(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Li=function(){return e},e}function Ai(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return Ai=function(){return e},e}function _i(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return _i=function(){return e},e}function zi(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return zi=function(){return e},e}function Bi(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return Bi=function(){return e},e}function Fi(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return Fi=function(){return e},e}function Mi(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return Mi=function(){return e},e}function Gi(){var e=Object(x.a)(["\n  overflow: auto;\n  max-height: 85vh;\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n  h1{\n    display: flex;\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    background-image: url('img/pattern-geo.png'),\n      linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n    background-repeat: repeat, no-repeat;\n    padding: 5px;\n  }\n  h4{\n    color: #00B020;\n    margin-bottom: 0px;\n  }\n  ","\n"]);return Gi=function(){return e},e}function Ui(){var e=Object(x.a)(["\n  background-color: white;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Ui=function(){return e},e}var qi=E.default.div(Ui()),Vi=E.default.div(Gi(),R.tablet(Mi())),Wi=E.default.div(Fi(),R.tablet(Bi())),Hi=(E.default.input(zi()),E.default.button(_i()),E.default.label(Ai()),E.default.div(Li()),t(526)),Xi=t(518),Ji=t(519),Yi=t(527),Zi=function(){function e(){Object(ge.a)(this,e)}return Object(he.a)(e,[{key:"saveImage",value:function(e,n){_.a.fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}})}},{key:"saveVideo",value:function(e,n){_.a.fetch(e,{method:"PUT",body:n,headers:{"Content-Type":"video/mp4"}})}},{key:"loadMedia",value:function(e,n){new xi.a(_.a).readFile(e).then(function(e){return n(e)})}}]),e}(),Ki=function(){function e(n){Object(ge.a)(this,e),this.route=n}return Object(he.a)(e,[{key:"parse",value:function(){var e=this.getPrefix(),n=this.getInformation(),t=this.getViadePoints(),r=this.getComments(),a=this.getMedia();Ei.handleSave(this.route.author.replace("/profile/card#me","/")+"viade/routes/"+this.route.fileName,String(e+n+t+r+a))}},{key:"ovewrite",value:function(){var e=this.getPrefix(),n=this.getInformation(),t=this.getViadePoints(),r=this.getComments(),a=this.getMedia();Ei.overWrite(this.route.author.replace("/profile/card#me","/")+"viade/routes/"+this.route.fileName,String(e+n+t+r+a))}},{key:"getPrefix",value:function(){return String("@prefix viade:  <http://arquisoft.github.io/viadeSpec/>.\n@prefix :   <http://example.org/>. \n@prefix schema: <http://schema.org/>.\n@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix xsd:    <http://www.w3.org/2001/XMLSchema#>.\n")}},{key:"getInformation",value:function(){var e='schema:name "'+this.route.name+'" ;\n',n='schema:description "'+this.route.description+'" ;\n';return String(":myRoute a viade:Route ;\n"+e+n)}},{key:"getViadePoints",value:function(){var e,n="";for(e=0;e<this.route.points.length;e++)n+="viade:point [ \n schema:latitude "+this.route.points[e].position.lat+" ;\n schema:longitude "+this.route.points[e].position.lng+" \n ];\n";return String(n)}},{key:"getComments",value:function(){var e,n='viade:hasComments "null" ;\n';if(0!==this.route.comments.length)for(n="",e=0;e<this.route.comments.length;e++)n+='viade:hasComments [ \n schema:text "'+this.route.comments[e].comment.text+'" ; \n schema:publishedDate "'+this.route.comments[e].comment.createdAt+'" \n ];\n';return n}},{key:"getMedia",value:function(){var e='viade:hasMediaAttached "null" .\n';if(0!==this.route.image.length||0!==this.route.video.length){var n;for(e="",n=0;n<this.route.image.length;n++)n===this.route.image.length-1&&0===this.route.video.length?e+='viade:hasMediaAttached [ \n schema:contentUrl "'+this.route.image[n]+'" \n ].':e+='viade:hasMediaAttached [ \n schema:contentUrl "'+this.route.image[n]+'" \n ];\n';for(n=0;n<this.route.video.length;n++)n===this.route.video.length-1?e+='viade:hasMediaAttached [ \n schema:contentUrl "'+this.route.video[n]+'" \n ] .':e+='viade:hasMediaAttached [ \n schema:contentUrl "'+this.route.video[n]+'" \n ];\n'}return e}}]),e}(),Qi="",$i=function(e){function n(e){var t,r=e.route,a=e.test;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this))).route=r,t.state={visible:!1,comment:""},t.test=a,t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"openModal",value:function(){this.setState({visible:!0})}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"verMultimedia",value:function(e){var n=this.props.t,t=new Zi;if(null!=e.image){if(e.image.length>0){for(var r=document.querySelector("#foto"+e.fileName),a="<ul>",i=0;i<e.image.length;i++)a+='<li><img src="" alt="foto'+e.fileName+i+'" id="foto'+e.fileName+i+'" style="max-width:100%;max-height:100%;"/></li>';a+="</ul>",r.innerHTML=a}for(var o=function(n){t.loadMedia(e.image,function(t){var r=(window.URL||window.webkitURL).createObjectURL(t);document.querySelector("#foto"+e.fileName+n).src=r})},c=0;c<e.image.length;c++)o(c)}if(null!=e.video){if(e.video.length>0){for(var l=document.querySelector("#video"+e.fileName),d="<ul>",f=0;f<e.video.length;f++)d+='<li><div id="video'+e.fileName+f+'"></div></li>';d+="</ul>",l.innerHTML=d}for(var p=function(n){t.loadMedia(e.video,function(t){var r=(window.URL||window.webkitURL).createObjectURL(t),a=document.querySelector("#video"+e.fileName+n);s.a.render(u.a.createElement("video",{width:"320",height:"240",controls:!0}," ",u.a.createElement("source",{src:r,type:"video/mp4"})," "),a)})},m=0;m<e.video.length;m++)p(m)}if(0===e.video.length&&0===e.image.length){var g=document.querySelector("#foto"+e.fileName);s.a.render(u.a.createElement(Hi.a,null,u.a.createElement(Hi.a.Body,null,u.a.createElement(Hi.a.Title,null,n("comment.noMedia")))),g)}}},{key:"addComment",value:function(e){if(0!==Qi.trim().length&&""!==Qi&&null!==Qi){var n=new Date;if(e.comments.push({comment:{text:Qi,createdAt:n.toLocaleDateString()}}),!this.test)new Ki(e).ovewrite();Qi="",this.comments(e),document.querySelector("#input-comentario"+e.fileName).value=""}}},{key:"handleCommentChange",value:function(e){e.preventDefault(),Qi=e.target.value}},{key:"comments",value:function(e){for(var n=this.props.t,t=[],r=0;r<e.comments.length;r++)t.push(u.a.createElement(Hi.a,null,u.a.createElement(Hi.a.Body,null," ",u.a.createElement(Hi.a.Title,null,e.comments[r].comment.text),u.a.createElement("footer",{className:"blockquote-footer"}," ",n("comment.createdAt")," ",e.comments[r].comment.createdAt))," "));var a=document.querySelector("#comentarios"+e.fileName);0===t.length?s.a.render(u.a.createElement(Hi.a,null,u.a.createElement(Hi.a.Body,null,u.a.createElement(Hi.a.Title,null,n("comment.noComments")))),a):s.a.render(t,a)}},{key:"render",value:function(){var e=this,n=this.props.t;return u.a.createElement("section",null,u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return e.openModal()},"data-testid":"button-open",id:"button-open-"+this.route.name,block:"lg",className:"mb-2"},n("route.open")),u.a.createElement(Ti.a,{visible:this.state.visible,width:"75%",effect:"fadeInDown",onClickAway:function(){return e.closeModal()}},u.a.createElement(qi,null,u.a.createElement(Vi,null,u.a.createElement(Wi,null,u.a.createElement("h1",{id:"route-title-"+this.route.name,className:"text--white"},this.route.name),u.a.createElement("h4",null,n("createRoute.description")),u.a.createElement("p",null,this.route.description)),u.a.createElement("h4",null,"Mapa"),u.a.createElement(Wi,null,u.a.createElement(br,{zoom:15,markers:this.route.points})),u.a.createElement("h4",null,n("createRoute.media")),u.a.createElement(Wi,null,u.a.createElement(Xi.a,{variant:"success","data-testid":"button-multimedia",size:"sm",onClick:function(){return e.verMultimedia(e.route)}},n("route.media")),u.a.createElement("div",{id:"foto"+this.route.fileName}),u.a.createElement("div",{id:"video"+this.route.fileName})),u.a.createElement("h4",null,n("route.comments")),u.a.createElement(Wi,null,u.a.createElement(Xi.a,{variant:"success","data-testid":"button-show-comment",id:"button-show-comment",size:"sm",onClick:function(){return e.comments(e.route)}},n("comment.show"))),u.a.createElement(Wi,null,u.a.createElement(Ji.a,{className:"mb-3"},u.a.createElement(Ji.a.Prepend,null,u.a.createElement(Xi.a,{variant:"success","data-testid":"button-add-comment",id:"button-add-comment",size:"sm",onClick:function(){return e.addComment(e.route)}},n("comment.add"))),u.a.createElement(Yi.a,{"aria-describedby":"basic-addon1",onChange:this.handleCommentChange,"data-testid":"input-add-comment",id:"input-comentario"+this.route.fileName}))),u.a.createElement(Wi,null,u.a.createElement("div",{id:"comentarios"+this.route.fileName})),u.a.createElement(Wi,null,u.a.createElement(Xi.a,{variant:"success","data-testid":"button-close",id:"button-close",size:"lg",block:!0,onClick:function(){return e.closeModal()}},n("route.close"))),u.a.createElement("br",null)))))}}]),n}(c.Component),eo=Object(f.c)()($i),no=t(130),to=t.n(no),ro=t(520),ao=t(522),io=function(e){var n=Object(f.b)().t,t=e.friendWebID,r=e.WebID,i=e.url,o=e.route,c=Object(ne.useNotification)(r).createNotification;var l=function(){var e=Object(L.a)(C.a.mark(function e(n,t,r,i){var o,c,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=i||ne.NotificationTypes.ANNOUNCE,o="https://creativecommons.org/licenses/by-sa/4.0/",e.next=5,a.findUserInboxes([{path:r,name:"Global"}]);case 5:if(0!==(c=e.sent).length){e.next=8;break}return e.abrupt("return",!1);case 8:if(!(u=a.getDefaultInbox(c,"Global"))){e.next=12;break}return e.next=12,n({title:t.title,summary:t.summary,actor:t.actor,object:t.object,target:t.target},u.path,i,o);case 12:return e.abrupt("return",!0);case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(n,t,r,a){return e.apply(this,arguments)}}();function s(e,n,t,r){return d.apply(this,arguments)}function d(){return(d=Object(L.a)(C.a.mark(function e(n,t,r,a){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(n,t,r,a);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}return u.a.createElement(Hi.a,{className:"text-left my-2","data-testid":"share-card"},u.a.createElement(Hi.a.Body,null,u.a.createElement(Hi.a.Title,{"data-testid":"share-card-title"},u.a.createElement(to.a,{src:"["+t+"]"})),u.a.createElement(Xi.a,{"data-testid":"share-card-share",variant:"outline-success",onClick:function(){try{var e=[{agents:[t],modes:[ne.AccessControlList.MODES.READ,ne.AccessControlList.MODES.WRITE]}];new ne.AccessControlList(r,i).createACL(e),T(n("notifications.accessGranted"));for(var a=0;a<o.image.length;a++)new ne.AccessControlList(r,o.image[a]).createACL(e);for(var c=0;c<o.video.length;c++)new ne.AccessControlList(r,o.video[c]).createACL(e);l(s,{title:"Route share",summary:"Ha compartido una ruta contigo",actor:r,object:i,target:t},t,ne.NotificationTypes.OFFER)}catch(u){D(n("notifications.errorGrantingAccess"))}}},n("route.share"))))},oo=function(e){for(var n=Object(f.b)().t,t=e.route,r=Object(ao.a)("user.friends"),a=Object(c.useState)(!1),i=Object(Qe.a)(a,2),o=i[0],l=i[1],s=[],d=t.author.replace("profile/card#me","viade/routes/"+t.fileName),p=function(){return l(!1)},m=0;m<r.length;m++)s.push(u.a.createElement(io,{friendWebID:r[m].value,WebID:t.author,url:d,route:t}));return 0===s.length&&s.push(u.a.createElement(Hi.a,{className:"text-left my-2",bg:"secondary"},u.a.createElement(Hi.a.Body,null,u.a.createElement(Hi.a.Title,{className:"text-white"},n("friends.noFriends"))))),u.a.createElement(u.a.Fragment,null,u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return l(!0)},block:"lg","data-testid":"share-button-open"},n("route.share")),u.a.createElement(ro.a,{show:o,onHide:p,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,"data-testid":"share-modal"},u.a.createElement(ro.a.Header,{closeButton:!0},u.a.createElement(ro.a.Title,{"data-testid":"share-title"},n("route.share"),": ",t.name)),u.a.createElement(ro.a.Body,{style:{maxHeight:"calc(75vh - 200px)"},className:"overflow-auto","data-testid":"share-body"},u.a.createElement("div",null,s)),u.a.createElement(ro.a.Footer,null,u.a.createElement(Xi.a,{variant:"secondary",onClick:p,"data-testid":"share-button-close"},n("route.closeFriends")))))},co=function(e){var n=e.route,t=n.name,r=n.description;return u.a.createElement(Ii,{className:"card"},u.a.createElement(Ri,{"data-testid":"welcome-detail"},u.a.createElement("h3",null,t," - ",u.a.createElement(to.a,{src:"["+n.author+"]"})),u.a.createElement("p",null,r),u.a.createElement(eo,{route:n}),u.a.createElement(oo,{route:n})))},uo=Si()({delay:2e3})(function(){for(var e=[],n=0;n<yi.length;n++)e.push(u.a.createElement(co,{route:yi[n],key:n}));return e}),lo=t(136),so=function(){function e(n){Object(ge.a)(this,e),this.user=n}return Object(he.a)(e,[{key:"addRoutes",value:function(e){e=e.replace("viade/routes","inbox"),console.log(e),Ei.readFolder(e,this.multiParse.bind(this),this.user)}},{key:"compruebaNotificacionValida",value:function(e){return void 0!==e&&void 0!==e[0]&&e[0].me===this.user}},{key:"compruebaNotificacion",value:function(e){return"@prefix terms: <http://purl.org/dc/terms#>."===e.split("\n")[0]}},{key:"singleParse",value:function(e,n){var t=this;if(this.compruebaNotificacion(n)){var r={data:n,query:"PREFIX as: <https://www.w3.org/ns/activitystreams#>\n      \n      SELECT ?url ?me ?friend WHERE {\n       ?notification a as:Offer;\n        as:target ?me;\n        as:object ?url;\n        as:actor ?friend.\n      }",wanted:"Array"};lo.run(r).then(function(e){if(t.compruebaNotificacionValida(e)){var n=e[0].url,r=n.split("/"),a=r[r.length-1];(new ki).addRoute(a,n,e[0].friend)}else D("err","Error")},function(e){return D(e,"Error")})}}},{key:"multiParse",value:function(e,n,t){for(var r=0;r<n.length;r++)Ei.handleLoad(e+n[r],n[r],this.singleParse.bind(this),t)}}]),e}(),fo=function(e){function n(e){var t,r=e.webId;return Object(ge.a)(this,n),(t=Object(be.a)(this,Object(ve.a)(n).call(this))).state={isLoading:!0},t.loaded=function(){return t.setState({isLoading:!1})},t.parserShared=new so(r),t.webID=r.replace("profile/card#me","viade/routes/"),t.parser=new ki,t.parser.addRoutes(t.webID,r),t.parserShared.addRoutes(t.webID),t}return Object(xe.a)(n,e),Object(he.a)(n,[{key:"render",value:function(){var e=this.props.t;return setTimeout(this.loaded,3e3),u.a.createElement(gi,{"data-testid":"timeline-wrapper"},u.a.createElement(hi,{"data-testid":"timeline-container"},u.a.createElement(bi,{"data-testid":"timeline-header"},u.a.createElement("h1",{className:"text--white"},e("timeline.seeRoutes"))),u.a.createElement(uo,{webID:this.webID})),this.state.isLoading&&u.a.createElement(Xe,{absolute:!0}))}}]),n}(u.a.Component),po=Object(f.c)()(fo);function mo(){var e=Object(x.a)(["\n  background: #f15d22;\n  border: none;\n  border-radius: 5px;\n  color: #00B020;\n  cursor: pointer;\n  display: inline-block;\n  font-family: 'Poppins', sans-serif;\n  font-size: inherit;\n  font-weight: 520;\n  margin-bottom: 1rem;\n  outline: none;\n   padding: 1rem 50px;\n  position: relative;\n  transition: all 0.3s;\n  vertical-align: middle;\n\n  &:hover {\n    background-color: darken(#f15d22, 10%);\n  }\n\n  &.btn-1 {\n    background-color: #ffffff;\n    box-shadow: 0 6px darken(#f79159, 10%);\n    transition: none;\n\n    &:hover {\n      box-shadow: 0 4px darken(#f79159, 10%);\n      top: 2px;\n    }\n  }\n\n"]);return mo=function(){return e},e}function go(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return go=function(){return e},e}function ho(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  text-size: 20px;\n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return ho=function(){return e},e}function bo(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return bo=function(){return e},e}function vo(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return vo=function(){return e},e}function xo(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return xo=function(){return e},e}function Eo(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return Eo=function(){return e},e}function wo(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n     h4{\n     color:#00B020 ;\n     margin-bottom: 0px;\n   }\n  ","\n"]);return wo=function(){return e},e}function yo(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n  p {\n    color: white;\n  }\n  .edit-button {\n    background: rgba(255, 255, 255, 0.1);\n    border: 2px solid white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: 1rem;\n  }\n"]);return yo=function(){return e},e}function Oo(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Oo=function(){return e},e}function jo(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return jo=function(){return e},e}var ko=E.default.section(jo()),No=E.default.div(Oo()),So=E.default.div(yo()),Co=E.default.div(wo(),R.tablet(Eo())),Po=E.default.div(xo(),R.tablet(vo())),Io=E.default.input(bo()),Ro=(E.default.button(ho()),E.default.label(go())),Do=(E.default.label(mo()),function(e){var n=e.webId,t=e.test,r=Object(f.b)().t,a=n.replace("profile/card#me",""),i=Object(c.useState)(""),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=Object(c.useState)(""),p=Object(Qe.a)(d,2),m=p[0],g=p[1],h=Object(c.useState)({}),b=Object(Qe.a)(h,2),v=b[0],x=b[1],E=Object(c.useState)(""),w=Object(Qe.a)(E,2),y=w[0],O=w[1],j=Object(c.useState)(""),k=Object(Qe.a)(j,2),N=k[0],S=k[1],C=Object(c.useState)(null),P=Object(Qe.a)(C,2),I=P[0],R=P[1],L=Object(c.useState)(null),A=Object(Qe.a)(L,2),_=A[0],z=A[1],B=u.a.createRef(),F=u.a.createRef();return u.a.createElement(ko,{"data-testid":"route-wrapper"},u.a.createElement(No,null,u.a.createElement(So,{"data-testid":"route-header"},u.a.createElement("h1",{className:"text--white"},r("createRoute.newRoute"))),u.a.createElement(Co,null,u.a.createElement("h4",null,r("createRoute.data")),u.a.createElement(Po,null,u.a.createElement(Ro,null,r("createRoute.title"),u.a.createElement(Io,{type:"text",size:"20",placeholder:r("createRoute.newRoute"),onChange:function(e){e.preventDefault(),s(e.target.value)},"data-testid":"input-title",id:"input-title"})),u.a.createElement(Ro,null,r("createRoute.description"),u.a.createElement(Io,{type:"text",size:"100",placeholder:r("createRoute.description"),onChange:function(e){e.preventDefault(),g(e.target.value)},"data-testid":"input-description",id:"input-description"}))),u.a.createElement("h4",null,r("createRoute.media")),u.a.createElement(Po,null,u.a.createElement(Ro,null,r("createRoute.addPhoto")),u.a.createElement(Io,{type:"file",ref:B,onChange:function(e){e.preventDefault(),B.current.files.length>0&&(z(B.current.files[0]),O(a+"viade/resources/"+B.current.files[0].name))},"data-testid":"input-img",id:"input-img",accept:"image/*"}),u.a.createElement(Ro,null,r("createRoute.addVideo")),u.a.createElement(Io,{type:"file",ref:F,onChange:function(e){e.preventDefault(),F.current.files.length>0&&(R(F.current.files[0]),S(a+"viade/resources/"+F.current.files[0].name))},"data-testid":"input-video",id:"input-video",accept:".mp4"})),u.a.createElement("h4",null,r("createRoute.mapTitle")),u.a.createElement(Po,null,u.a.createElement(jr,{parentCallback:function(e){x(e)}})),u.a.createElement(Po,null,u.a.createElement(Xi.a,{variant:"success",onClick:function(e){if(0===l.length)D(r("notifications.title"),r("notifications.error"));else if(0===m.length)D(r("notifications.description"),r("notifications.error"));else if(t||void 0!==v.length){var n=new Zi;null!==_&&n.saveImage(y,_),null!==I&&n.saveVideo(N,I);var i=l.trim().replace(/ /g,"")+(new Date).getTime(),o=[];""!==y&&o.push(y);var c=[];""!==N&&c.push(N),console.log(o);var u=new wi(l,m,v,a,[],o,c,i);new Ki(u,a).parse(),T(r("notifications.save"),r("notifications.success")),setTimeout(function(){window.location.href="#/timeline"},1e3)}else D(r("notifications.markers"),r("notifications.error"));e.preventDefault()},"data-testid":"button-save",id:"button-save",size:"lg",block:!0},r("createRoute.saveRoute"))))))}),To=t(529);function Lo(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 80%;\n  min-width: 20%;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Lo=function(){return e},e}function Ao(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return Ao=function(){return e},e}function _o(){var e=Object(x.a)(["\n  padding: 1rem 3.5rem;\n\n  p,\n  li {\n    color: #666666;\n  }\n  ul {\n    list-style: disc;\n    margin: 0 18px;\n  }\n"]);return _o=function(){return e},e}function zo(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return zo=function(){return e},e}function Bo(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 30px 20px;\n  h1 {\n    color: #00B020;\n  }\n"]);return Bo=function(){return e},e}function Fo(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return Fo=function(){return e},e}function Mo(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return Mo=function(){return e},e}function Go(){var e=Object(x.a)(["\n  background-color: #fff;\n  margin: 30px auto;\n\n  max-width: 80% !important;\n  flex-direction: row !important;\n  padding: 50px 0 !important; //temporary fix to a style guide bug\n\n  align-items: center;\n  \n   button {\n    margin-left: 8px;\n  }\n"]);return Go=function(){return e},e}function Uo(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n    \n  padding: 50px 0;\n\n  h3 {\n    color: #666666;\n    span {\n      font-weight: bold;\n    }\n    a {\n      font-size: 1.9rem;\n    }\n  }\n"]);return Uo=function(){return e},e}var qo=E.default.section(Uo()),Vo=E.default.div(Go()),Wo=E.default.div(Mo(),R.tablet(Fo()));E.default.div(Bo()),E.default.div(zo()),E.default.div(_o()),E.default.section(Ao()),E.default.div(Lo());function Ho(e){window.location.href=e}var Xo=Object(To.a)(function(e){e.webId;var n=Object(f.b)().t;return u.a.createElement(qo,{"data-testid":"selector-wrapper"},u.a.createElement(Vo,{className:"card"},u.a.createElement(Wo,{"data-testid":"selector-option-parsers"},u.a.createElement("h3",null,n("createRoute.archive")),u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return Ho("#/createroutegpx")},"data-testid":"goTo-gpx"},"Gpx"),u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return Ho("#/createroutegeojson")},"data-testid":"goTo-geojson"},"GeoJSON"),u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return Ho("#/createroutejsonld")},"data-testid":"goTo-jsonld"},"JSON-LD")),u.a.createElement(Wo,{"data-testid":"selector-option-map"},u.a.createElement("h3",null,n("createRoute.map")),u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return Ho("#/createroute")},"data-testid":"goTo-map"},n("createRoute.here")))))});function Jo(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Jo=function(){return e},e}function Yo(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return Yo=function(){return e},e}function Zo(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return Zo=function(){return e},e}function Ko(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return Ko=function(){return e},e}function Qo(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return Qo=function(){return e},e}function $o(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return $o=function(){return e},e}function ec(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return ec=function(){return e},e}function nc(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return nc=function(){return e},e}function tc(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return tc=function(){return e},e}function rc(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return rc=function(){return e},e}function ac(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n     h4{\n     color:#00B020 ;\n   }\n  ","\n"]);return ac=function(){return e},e}function ic(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n  p {\n    color: white;\n  }\n  .edit-button {\n    background: rgba(255, 255, 255, 0.1);\n    border: 2px solid white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: 1rem;\n  }\n"]);return ic=function(){return e},e}function oc(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return oc=function(){return e},e}function cc(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return cc=function(){return e},e}var uc=E.default.section(cc()),lc=E.default.div(oc()),sc=E.default.div(ic()),dc=E.default.form(ac(),R.tablet(rc())),fc=E.default.div(tc(),R.tablet(nc())),pc=E.default.input(ec()),mc=(E.default.button($o()),E.default.label(Qo())),gc=(E.default.textarea(Ko()),E.default.div(Zo(),R.tablet(Yo())),E.default.div(Jo()),function(){function e(n){Object(ge.a)(this,e),this.file=n}return Object(he.a)(e,[{key:"parse",value:function(){try{var e=(new DOMParser).parseFromString(this.file,"text/xml"),n=e.getElementsByTagName("trk"),t=[];if(1===n.length)for(var r=e.getElementsByTagName("trkpt"),a=0;a<r.length;a++){var i=parseFloat(r[a].getAttribute("lat")),o=parseFloat(r[a].getAttribute("lon"));t.push({position:{lat:i,lng:o}})}if(0===n.length){var c=e.getElementsByTagName("rte");if(c.length>0)for(var u=c[0].getElementsByTagName("rtept"),l=0;l<u.length;l++){var s=parseFloat(u[l].getAttribute("lat")),d=parseFloat(u[l].getAttribute("lon"));t.push({position:{lat:s,lng:d}})}}return t}catch(f){return[]}}}]),e}()),hc=[],bc='<gpx creator="GPS Visualizer https://www.gpsvisualizer.com/" version="1.0">  <trk>   <name>Barrett Spur 1</name>    <extensions>      <line xmlns="http://www.topografix.com/GPX/gpx_style/0/2">        <color>9900ff</color>      </line>    </extensions>    <trkseg>      <trkpt lat="45.4431641" lon="-121.7295456"></trkpt>      <trkpt lat="45.4428615" lon="-121.7290800"></trkpt>    </trkseg>  </trk></gpx>',vc="",xc=function(e){var n=e.webId,t=e.test,r=Object(f.b)().t,a=n.replace("profile/card#me",""),i=Object(c.useState)(""),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=Object(c.useState)(""),p=Object(Qe.a)(d,2),m=p[0],g=p[1],h=Object(c.useState)(""),b=Object(Qe.a)(h,2),v=b[0],x=b[1],E=Object(c.useState)(""),w=Object(Qe.a)(E,2),y=w[0],O=w[1],j=Object(c.useState)(null),k=Object(Qe.a)(j,2),N=k[0],S=k[1],C=Object(c.useState)(null),P=Object(Qe.a)(C,2),I=P[0],R=P[1],L=u.a.createRef(),A=u.a.createRef(),_=u.a.createRef();function z(e){vc=e.target.result.toString()}return u.a.createElement(uc,{"data-testid":"route-wrapper"},u.a.createElement(lc,null,u.a.createElement(sc,{"data-testid":"route-header"},u.a.createElement("h1",{className:"text--white"},r("createRoute.newRoute"),": Gpx")),u.a.createElement(dc,null,u.a.createElement("h4",null,r("createRoute.data")),u.a.createElement(fc,null,u.a.createElement(mc,null,r("createRoute.title"),u.a.createElement(pc,{type:"text",size:"20",placeholder:r("createRoute.newRoute"),onChange:function(e){e.preventDefault(),s(e.target.value)},"data-testid":"input-title",id:"input-title"})),u.a.createElement(mc,null,r("createRoute.description"),u.a.createElement(pc,{type:"text",size:"100",placeholder:r("createRoute.description"),onChange:function(e){e.preventDefault(),g(e.target.value)},"data-testid":"input-description",id:"input-description"})),u.a.createElement(mc,null,r("createRoute.uploadGPX"),u.a.createElement(pc,{type:"file",ref:L,onChange:function(e){if(e.preventDefault(),L.current.files.length>0){var n=new FileReader;n.readAsText(L.current.files[0]),n.onload=z}},"data-testid":"input-file",id:"input-file"}))),u.a.createElement("h4",null,r("createRoute.media")),u.a.createElement(fc,null,u.a.createElement(mc,null,r("createRoute.addPhoto")),u.a.createElement(pc,{type:"file",ref:A,onChange:function(e){e.preventDefault(),A.current.files.length>0&&(R(A.current.files[0]),x(a+"viade/resources/"+A.current.files[0].name))},"data-testid":"input-img",id:"input-img",accept:"image/*"}),u.a.createElement(mc,null,r("createRoute.addVideo")),u.a.createElement(pc,{type:"file",ref:_,onChange:function(e){e.preventDefault(),_.current.files.length>0&&(S(_.current.files[0]),O(a+"viade/resources/"+_.current.files[0].name))},"data-testid":"input-video",id:"input-video",accept:".mp4"})),u.a.createElement(fc,null,u.a.createElement(Xi.a,{variant:"success",onClick:function(e){if(0===l.length)D(r("notifications.title"),r("notifications.error"));else if(0===m.length)D(r("notifications.description"),r("notifications.error"));else if(t||""!==vc)if(function(e){var n=new gc(e);hc=n.parse()}(t?bc:vc),0===hc.length)D(r("notifications.parsererror"),r("notifications.error"));else{var n=new Zi;null!==I&&n.saveImage(v,I),null!==N&&n.saveVideo(y,N);var i=l.trim().replace(/ /g,"")+(new Date).getTime(),o=[];""!==v&&o.push(v);var c=[];""!==y&&c.push(y);var u=new wi(l,m,hc,a,[],o,c,i);new Ki(u,a).parse(),T(r("notifications.save"),r("notifications.success")),setTimeout(function(){window.location.href="#/timeline"},1e3)}else D(r("notifications.uploadfile"),r("notifications.error"));e.preventDefault()},"data-testid":"button-save",id:"button-save",size:"lg",block:!0},r("createRoute.saveRoute"))))))};function Ec(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Ec=function(){return e},e}function wc(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return wc=function(){return e},e}function yc(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return yc=function(){return e},e}function Oc(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return Oc=function(){return e},e}function jc(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return jc=function(){return e},e}function kc(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return kc=function(){return e},e}function Nc(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return Nc=function(){return e},e}function Sc(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return Sc=function(){return e},e}function Cc(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return Cc=function(){return e},e}function Pc(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return Pc=function(){return e},e}function Ic(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n     h4{\n     color:#00B020 ;\n     margin-bottom: 0px;\n   }\n  ","\n"]);return Ic=function(){return e},e}function Rc(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n  p {\n    color: white;\n  }\n  .edit-button {\n    background: rgba(255, 255, 255, 0.1);\n    border: 2px solid white;\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: 1rem;\n  }\n"]);return Rc=function(){return e},e}function Dc(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Dc=function(){return e},e}function Tc(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return Tc=function(){return e},e}var Lc=E.default.section(Tc()),Ac=E.default.div(Dc()),_c=E.default.div(Rc()),zc=E.default.form(Ic(),R.tablet(Pc())),Bc=E.default.div(Cc(),R.tablet(Sc())),Fc=E.default.input(Nc()),Mc=(E.default.button(kc()),E.default.label(jc())),Gc=(E.default.textarea(Oc()),E.default.div(yc(),R.tablet(wc())),E.default.div(Ec()),function(){function e(n){Object(ge.a)(this,e),this.file=n}return Object(he.a)(e,[{key:"parse",value:function(){try{var e,n=JSON.parse(this.file),t=[];if(1===(e=n.features).length&&"LineString"===e[0].geometry.type)for(var r=e[0].geometry.coordinates,a=0;a<r.length;a++)t.push({position:{lat:r[a][0],lng:r[a][1]}});return t}catch(i){return[]}}}]),e}()),Uc=[],qc='{"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {}, "geometry": {"type": "LineString", "coordinates": [[28.67431640625, 51.74743863117572], [28.037109375, 50.33844888725473], [30.684814453125004, 50.00067775723633], [30.223388671874996, 51.303145259199056], [29.68505859375, 49.1888842152458], [26.400146484375, 51.31688050404585]]}}]}',Vc="",Wc=function(e){var n=e.webId,t=e.test,r=Object(f.b)().t,a=n.replace("profile/card#me",""),i=Object(c.useState)(""),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=Object(c.useState)(""),p=Object(Qe.a)(d,2),m=p[0],g=p[1],h=Object(c.useState)(""),b=Object(Qe.a)(h,2),v=b[0],x=b[1],E=Object(c.useState)(""),w=Object(Qe.a)(E,2),y=w[0],O=w[1],j=Object(c.useState)(null),k=Object(Qe.a)(j,2),N=k[0],S=k[1],C=Object(c.useState)(null),P=Object(Qe.a)(C,2),I=P[0],R=P[1],L=u.a.createRef(),A=u.a.createRef(),_=u.a.createRef();function z(e){Vc=e.target.result.toString()}return u.a.createElement(Lc,{"data-testid":"route-wrapper"},u.a.createElement(Ac,null,u.a.createElement(_c,{"data-testid":"route-header"},u.a.createElement("h1",{className:"text--white"},r("createRoute.newRoute"),": GeoJSON")),u.a.createElement(zc,null,u.a.createElement("h4",null,r("createRoute.data")),u.a.createElement(Bc,null,u.a.createElement(Mc,null,r("createRoute.title"),u.a.createElement(Fc,{type:"text",size:"20",placeholder:r("createRoute.newRoute"),onChange:function(e){e.preventDefault(),s(e.target.value)},"data-testid":"input-title"})),u.a.createElement(Mc,null,r("createRoute.description"),u.a.createElement(Fc,{type:"text",size:"100",placeholder:r("createRoute.description"),onChange:function(e){e.preventDefault(),g(e.target.value)},"data-testid":"input-description"})),u.a.createElement(Mc,null,r("createRoute.uploadGeoJson"),u.a.createElement(Fc,{type:"file",ref:L,onChange:function(e){if(e.preventDefault(),L.current.files.length>0){var n=new FileReader;n.readAsText(L.current.files[0]),n.onload=z}},"data-testid":"input-file"}))),u.a.createElement("h4",null,r("createRoute.media")),u.a.createElement(Bc,null,u.a.createElement(Mc,null,r("createRoute.addPhoto")),u.a.createElement(Fc,{type:"file",ref:A,onChange:function(e){e.preventDefault(),A.current.files.length>0&&(R(A.current.files[0]),x(a+"viade/resources/"+A.current.files[0].name))},"data-testid":"input-img",accept:"image/*"}),u.a.createElement(Mc,null,r("createRoute.addVideo")),u.a.createElement(Fc,{type:"file",ref:_,onChange:function(e){e.preventDefault(),_.current.files.length>0&&(S(_.current.files[0]),O(a+"viade/resources/"+_.current.files[0].name))},"data-testid":"input-video",accept:".mp4"})),u.a.createElement(Bc,null,u.a.createElement(Xi.a,{variant:"success",onClick:function(e){if(0===l.length)D(r("notifications.title"),r("notifications.error"));else if(0===m.length)D(r("notifications.description"),r("notifications.error"));else if(t||""!==Vc)if(function(e){var n=new Gc(e);Uc=n.parse()}(t?qc:Vc),0===Uc.length)D(r("notifications.parsererror"),r("notifications.error"));else{var n=new Zi;null!==I&&n.saveImage(v,I),null!==N&&n.saveVideo(y,N);var i=l.trim().replace(/ /g,"")+(new Date).getTime(),o=[];""!==v&&o.push(v);var c=[];""!==y&&c.push(y);var u=new wi(l,m,Uc,a,[],o,c,i);new Ki(u,a).parse(),T(r("notifications.save"),r("notifications.success")),setTimeout(function(){window.location.href="#/timeline"},1e3)}else D(r("notifications.uploadfile"),r("notifications.error"));e.preventDefault()},"data-testid":"button-save",id:"button-save",size:"lg",block:!0},r("createRoute.saveRoute"))))))};function Hc(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  button {\n    margin-left: 0px;\n  }\n"]);return Hc=function(){return e},e}function Xc(){var e=Object(x.a)(['\n    width: 50%;\n    &:after {\n      display: block;\n      content: "";\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background-color:#D0D0D0;\n      top:0;\n    }\n  ']);return Xc=function(){return e},e}function Jc(){var e=Object(x.a)(["\n  height: 100%;\n  text-align: center;\n  position: relative;\n\n  img {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n  }\n\n  h1,\n  img {\n    margin: 0 10px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  ","\n"]);return Jc=function(){return e},e}function Yc(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return Yc=function(){return e},e}function Zc(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return Zc=function(){return e},e}function Kc(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return Kc=function(){return e},e}function Qc(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return Qc=function(){return e},e}function $c(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return $c=function(){return e},e}function eu(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return eu=function(){return e},e}function nu(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return nu=function(){return e},e}function tu(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n     h4{\n     color:#00B020 ;\n     margin-bottom: 0px;\n   }\n  ","\n"]);return tu=function(){return e},e}function ru(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n"]);return ru=function(){return e},e}function au(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return au=function(){return e},e}function iu(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return iu=function(){return e},e}var ou=E.default.section(iu()),cu=E.default.div(au()),uu=E.default.div(ru()),lu=E.default.form(tu(),R.tablet(nu())),su=E.default.div(eu(),R.tablet($c())),du=E.default.input(Qc()),fu=(E.default.button(Kc()),E.default.label(Zc())),pu=(E.default.textarea(Yc()),E.default.div(Jc(),R.tablet(Xc())),E.default.div(Hc()),[]),mu="",gu=function(e){var n=e.webId,t=e.test,r=Object(f.b)().t,a=n.replace("profile/card#me",""),i=Object(c.useState)(""),o=Object(Qe.a)(i,2),l=o[0],s=o[1],d=Object(c.useState)(""),p=Object(Qe.a)(d,2),m=p[0],g=p[1],h=Object(c.useState)(""),b=Object(Qe.a)(h,2),v=b[0],x=b[1],E=Object(c.useState)(""),w=Object(Qe.a)(E,2),y=w[0],O=w[1],j=Object(c.useState)([]),k=Object(Qe.a)(j,2),N=k[0],S=k[1],C=Object(c.useState)([]),P=Object(Qe.a)(C,2),I=P[0],R=P[1],L=Object(c.useState)([]),A=Object(Qe.a)(L,2),_=A[0],z=A[1],B=Object(c.useState)(null),F=Object(Qe.a)(B,2),M=F[0],G=F[1],U=Object(c.useState)(null),q=Object(Qe.a)(U,2),V=q[0],W=q[1],H=u.a.createRef(),X=u.a.createRef(),J=u.a.createRef();function Y(e){mu=e.target.result.toString();var n=new Oi(a,mu).parse();if(null!==n&&!0!==n){document.getElementById("input-title").value=n.name,s(n.name),document.getElementById("input-description").value=n.description,g(n.description),pu=n.points,0!==n.image.length&&S(n.image),0!==n.video.length&&R(n.video),0!==n.comments.length&&z(n.comments);for(var t=document.querySelector("#multimediacargada"),i="<h5>Archivos multimedia cargados:</h5><ul>",o=0;o<n.image.length;o++)i+="<li>"+n.image[o]+"</li>";for(var c=0;c<n.video.length;c++)i+="<li>"+n.video[c]+"</li>";i+="</ul>",t.innerHTML=i}else pu=[],D(r("notifications.parsererror"),r("notifications.error")),document.querySelector("#multimediacargada").innerHTML="",s(""),g(""),S([]),R([]),z([])}return u.a.createElement(ou,{"data-testid":"route-wrapper"},u.a.createElement(cu,null,u.a.createElement(uu,{"data-testid":"route-header"},u.a.createElement("h1",{className:"text--white"},r("createRoute.newRoute"),": JSON-LD")),u.a.createElement(lu,null,u.a.createElement("h4",null,r("createRoute.data")),u.a.createElement(su,null,u.a.createElement(fu,null,r("createRoute.title"),u.a.createElement(du,{type:"text",size:"20",placeholder:r("createRoute.newRoute"),onChange:function(e){e.preventDefault(),s(e.target.value)},"data-testid":"input-title",id:"input-title"})),u.a.createElement(fu,null,r("createRoute.description"),u.a.createElement(du,{type:"text",size:"100",placeholder:r("createRoute.description"),onChange:function(e){e.preventDefault(),g(e.target.value)},"data-testid":"input-description",id:"input-description"})),u.a.createElement(fu,null,r("createRoute.uploadJsonLD"),u.a.createElement(du,{type:"file",ref:H,onChange:function(e){if(e.preventDefault(),H.current.files.length>0){var n=new FileReader;n.readAsText(H.current.files[0]),n.onload=Y}},"data-testid":"input-file",accept:".jsonld"}))),u.a.createElement("h4",null,r("createRoute.media")),u.a.createElement(su,null,u.a.createElement("div",{id:"multimediacargada","data-testid":"multimediacargada"}),u.a.createElement(fu,null,r("createRoute.addPhoto")),u.a.createElement(du,{type:"file",ref:X,onChange:function(e){e.preventDefault(),X.current.files.length>0&&(W(X.current.files[0]),x(a+"viade/resources/"+X.current.files[0].name))},"data-testid":"input-img",accept:"image/*"}),u.a.createElement(fu,null,r("createRoute.addVideo")),u.a.createElement(du,{type:"file",ref:J,onChange:function(e){e.preventDefault(),J.current.files.length>0&&(G(J.current.files[0]),O(a+"viade/resources/"+J.current.files[0].name))},"data-testid":"input-video",accept:".mp4"})),u.a.createElement(su,null,u.a.createElement(Xi.a,{variant:"success",onClick:function(e){if(0===l.length)D(r("notifications.title"),r("notifications.error"));else if(0===m.length)D(r("notifications.description"),r("notifications.error"));else if(t||""!==mu)if(0===pu)D(r("notifications.parsererror"),r("notifications.error"));else{var n=new Zi;null!==V&&n.saveImage(v,V),null!==M&&n.saveVideo(y,M);var i=l.trim().replace(/ /g,"")+(new Date).getTime(),o=[],c=[];""!==v&&o.push(v),""!==y&&c.push(y),0!==N.length&&N.forEach(function(e){return o.push(e)}),0!==I.length&&I.forEach(function(e){return c.push(e)});var u=new wi(l,m,pu,a,_,o,c,i);new Ki(u,a).parse(),T(r("notifications.save"),r("notifications.success")),setTimeout(function(){window.location.href="#/timeline"},1e3)}else D(r("notifications.uploadfile"),r("notifications.error"));e.preventDefault()},"data-testid":"button-save",id:"button-save",size:"lg",block:!0},r("createRoute.saveRoute"))))))};function hu(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n"]);return hu=function(){return e},e}function bu(){var e=Object(x.a)(["\nbox-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\nbackground-color: white;\nmax-width: 900px;\nmargin: 0 20px;\nwidth: 100%;\nflex: 1 0 auto;\nul {\n  list-style: none;\n  padding: 0;\n  font-size: 2em;\n}\nul img {\n  width: 10vh;\n  height: 10vh;\n  float: left; \n  margin: 15px 15px 15px 0px;\n}\nli {\n  padding: 5px 10px;\n  background-color: #EEEEEE;\n  border: 1px solid #DDDDDD;\n}\nh2{\n    font-size: 1.8em;\n}\n"]);return bu=function(){return e},e}function vu(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return vu=function(){return e},e}var xu=E.default.div(vu()),Eu=E.default.div(bu()),wu=E.default.div(hu()),yu=t(155),Ou=yu.Namespace("http://xmlns.com/foaf/0.1/"),ju=yu.graph(),ku=null,Nu="img/icon/empty-profile.svg";function Su(){return(Su=Object(L.a)(C.a.mark(function e(n,t){var r,a,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new yu.Fetcher(ju),null!=n){e.next=5;break}return e.abrupt("return",t(null));case 5:return e.next=7,r.load(n);case 7:a=ju.each(yu.sym(n),Ou("knows")),i=a.map(function(e){return e.value});case 9:return e.abrupt("return",t(i));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cu=function(){var e=Object(f.b)().t;return function(e){var n=Object(f.b)().t;_.a.trackSession(function(t){return t?e(t.webId):(D(n("friends.userlogged"),"Error"),e(null))})}(function(n){!function(e,n){Su.apply(this,arguments)}(n,function(){var n=Object(L.a)(C.a.mark(function n(t){var r,a,i,o,c,l,s;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t&&void 0!==t){n.next=4;break}D(e("friends.errorObtaining"),"Error"),n.next=25;break;case 4:ku=[],r=0;case 6:if(!(r<t.length)){n.next=24;break}return a=t[r],n.next=10,B.a[a];case 10:return i=n.sent,n.next=13,i.vcard_fn;case 13:return o=n.sent,c=o&&o.value.trim().length>0?o.value:a.toString(),n.next=17,i.vcard_hasPhoto;case 17:l=n.sent,s=void 0,s=l&&l.value?l.value:Nu,ku.push(u.a.createElement("li",{key:a.toString()},u.a.createElement("section",null,u.a.createElement("img",{alt:"",src:s}),u.a.createElement("p",null,c)),u.a.createElement("a",{href:a},e("friends.profile"))));case 21:r++,n.next=6;break;case 24:0===ku.length&&ku.push(u.a.createElement("li",{key:"noFriends"},u.a.createElement("section",null,u.a.createElement("p",null,e("friends.noFriends")))));case 25:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}),function(){var e=Object(f.b)().t,n=Object(c.useState)(!0),t=Object(Qe.a)(n,2),r=t[0],a=t[1];return setTimeout(function(){return a(!1)},3e3),u.a.createElement(xu,null,u.a.createElement(Eu,null,u.a.createElement("div",null,u.a.createElement(wu,null,u.a.createElement("h1",{className:"text--white"},e("friends.list"))),u.a.createElement("ul",null,ku))),r&&u.a.createElement(Xe,{absolute:!0}))}()};function Pu(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n"]);return Pu=function(){return e},e}function Iu(){var e=Object(x.a)(["\nbox-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\nbackground-color: white;\nmax-width: 900px;\nmargin: 0 20px;\nwidth: 100%;\nflex: 1 0 auto;\nul {\n  list-style: none;\n  padding: 0;\n  font-size: 1em;\n}\nul img {\n  width: 10vh;\n  height: 10vh;\n  float: left; \n  margin: 15px 15px 15px 0px;\n}\nli {\n  padding: 5px 10px;\n  background-color: #EEEEEE;\n  border: 1px solid #DDDDDD;\n}\n"]);return Iu=function(){return e},e}function Ru(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\nbutton {\n  margin: 8px;\n}\n"]);return Ru=function(){return e},e}var Du=E.default.div(Ru()),Tu=E.default.div(Iu()),Lu=E.default.div(Pu()),Au=function(){function e(n,t,r){Object(ge.a)(this,e),this._name=n,this._description=t,this._participants=r}return Object(he.a)(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"description",get:function(){return this._description},set:function(e){this._description=e}},{key:"participants",get:function(){return this._participants},set:function(e){this._participants=e}}]),e}(),_u=t(136),zu=[],Bu=function(){function e(){Object(ge.a)(this,e)}return Object(he.a)(e,[{key:"addGroups",value:function(){var e=Object(L.a)(C.a.mark(function e(n,t,r){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ei.createFolder(n,t,this,function(e,n,t){Ei.readFolder(e,t.multiParse.bind(t),n),r(zu)});case 1:case"end":return e.stop()}},e,this)}));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"multiParse",value:function(e,n,t){for(var r=0;r<n.length;r++)Ei.handleLoad(e+n[r],n[r],this.singleParse.bind(this),t)}},{key:"singleParse",value:function(e,n,t){var r=this,a={data:n,query:"PREFIX schema: <http://schema.org/>\n            PREFIX viade:<http://arquisoft.github.io/viadeSpec/>\n            PREFIX rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n  \n            SELECT ?name ?description ?iri WHERE {\n            ?group a viade:Group;\n            schema:name ?name;\n            schema:description ?description;\n            viade:participants ?participant.\n            OPTIONAL {?participant schema:participantUrl ?iri.}\n            \n            }",wanted:"Array"};_u.run(a).then(function(e){var n=e[0].name,t=e[0].description,a=r.getParticipants(e),i=new Au(n,t,a);r.pushGroup(i)},function(e){return D(e,"Error")}),console.log(zu)}},{key:"pushGroup",value:function(e){this.containsGroup(e)||zu.push(e)}},{key:"containsGroup",value:function(e){for(var n=0;n<zu.length;n++)if(zu[n].name===e.name)return!0;return!1}},{key:"getParticipants",value:function(e){for(var n=[],t=new Set,r=0,a=0;a<e.length;a++)void 0!==e[a].iri&&(t.has(e[a].iri)||(n[r]=e[a].iri,r++,t.add(e[a].iri)));return n}}]),e}(),Fu=null;function Mu(){return(Mu=Object(L.a)(C.a.mark(function e(n,t,r){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(new Bu).addGroups(n,t,function(){var e=Object(L.a)(C.a.mark(function e(n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(n));case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Gu=Object(To.a)(function(){var e=Object(f.b)().t;return function(e){var n=Object(f.b)().t;_.a.trackSession(function(t){return t?e(t.webId):(D(n("friends.userlogged"),"Error"),e(null))})}(function(n){!function(e,n,t){Mu.apply(this,arguments)}(n.replace("profile/card#me","viade/viade2cgroups/"),n,function(){var n=Object(L.a)(C.a.mark(function n(t){var r,a,i,o,c;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Fu=[],console.log(t),r=0;case 3:if(!(r<t.length)){n.next=20;break}return a=t[r],n.next=7,a.name;case 7:return i=n.sent,n.next=10,a.description;case 10:return o=n.sent,n.next=13,a.participants;case 13:0===(c=n.sent).length&&(c=e("friendsGroups.errorParticipants")),0===o.length&&(o=e("friendsGroups.errorDescription")),Fu.push(u.a.createElement("li",{key:i.toString()},u.a.createElement("section",null,u.a.createElement("h1",null,i.toString())),u.a.createElement("section",null,u.a.createElement("h2",null,e("friendsGroups.description"),":"),u.a.createElement("p",null,o.toString())),u.a.createElement("ul",null,u.a.createElement("h2",null,e("friendsGroups.participants")),u.a.createElement("li",null,c))));case 17:r++,n.next=3;break;case 20:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}),function(){var e=Object(f.b)().t,n=Object(c.useState)(!0),t=Object(Qe.a)(n,2),r=t[0],a=t[1];return setTimeout(function(){return a(!1)},3e3),u.a.createElement(Du,null,u.a.createElement(Tu,null,u.a.createElement("div",null,u.a.createElement(Lu,null,u.a.createElement("h1",{className:"text--white"},e("friendsGroups.title"))),u.a.createElement(Xi.a,{variant:"outline-success",onClick:function(){return e="#/createGroup",void(window.location.href=e);var e},"data-testid":"createGroup"},e("friendsGroups.create")),u.a.createElement("ul",null,Fu))),r&&u.a.createElement(Xe,{absolute:!0}))}()});function Uu(){var e=Object(x.a)(["\n  margin: 5px;\n"]);return Uu=function(){return e},e}function qu(){var e=Object(x.a)(["\n  margin-left: 5px;\n  background-color: #00B020; \n  color: white;\n  &:hover{\n    transition-duration: 0.4s;\n  }\n"]);return qu=function(){return e},e}function Vu(){var e=Object(x.a)(["\n  margin: 10px;\n"]);return Vu=function(){return e},e}function Wu(){var e=Object(x.a)(["\n    grid-column: span 2;\n  "]);return Wu=function(){return e},e}function Hu(){var e=Object(x.a)(["\n  grid-column: span 1;\n  text-align: left;\n  ","\n"]);return Hu=function(){return e},e}function Xu(){var e=Object(x.a)(["\n    grid-template-columns: 1fr 1fr;\n  "]);return Xu=function(){return e},e}function Ju(){var e=Object(x.a)(["\n  padding: 20px 40px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px 40px;\n     h4{\n     color:#00B020 ;\n   }\n  ","\n"]);return Ju=function(){return e},e}function Yu(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/pattern-geo.png'),\n    linear-gradient(135deg, #00B020 0%, #00B020 30%, #00B020 50%);\n  background-repeat: repeat, no-repeat;\n  padding: 30px 20px;\n  h1 {\n    color: white;\n  }\n"]);return Yu=function(){return e},e}function Zu(){var e=Object(x.a)(["\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n  background-color: white;\n  max-width: 900px;\n  margin: 0 20px;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return Zu=function(){return e},e}function Ku(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  background-image: url('img/concentric-hex-pattern_2x.png');\n  background-repeat: repeat;\n  padding: 60px 0;\n"]);return Ku=function(){return e},e}var Qu=E.default.section(Ku()),$u=E.default.div(Zu()),el=E.default.div(Yu()),nl=E.default.form(Ju(),R.tablet(Xu())),tl=E.default.div(Hu(),R.tablet(Wu())),rl=E.default.input(Vu()),al=E.default.button(qu()),il=E.default.label(Uu()),ol=function(){function e(n,t,r,a,i){Object(ge.a)(this,e),this.friends=n,this.name=t,this.description=r,this.fileName=a,this.author=i}return Object(he.a)(e,[{key:"parse",value:function(){var e=this.getPrefix(),n=this.getInformation(),t=this.getParticipants();Ei.handleSave(this.author.replace("/profile/card#me","/")+"viade/viade2cgroups/"+this.fileName,String(e+n+t))}},{key:"getPrefix",value:function(){return String("@prefix viade:  <http://arquisoft.github.io/viadeSpec/>.\n@prefix :   <http://example.org/>. \n@prefix schema: <http://schema.org/>.\n@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix xsd:    <http://www.w3.org/2001/XMLSchema#>.\n")}},{key:"getInformation",value:function(){var e=null,n=null,t=null;return this.friends.length>0?(e=":myGroup a viade:Group ;\n",n='schema:name "'+this.name+'" ;\n',t='schema:description "'+this.description+'" ;\n'):(e=":myGroup a viade:Group ;\n",n='schema:name "'+this.name+'" ;\n',t='schema:description "'+this.description+'" .'),String(e+n+t)}},{key:"getParticipants",value:function(){var e,n="";for(e=0;e<this.friends.length;e++)e===this.friends.length-1?n+='viade:participants [ \n schema:participantUrl "'+this.friends[e]+'" \n ] .':n+='viade:participants [ \n schema:participantUrl "'+this.friends[e]+'" \n ];\n';return String(n)}}]),e}();function cl(){var e=Object(x.a)(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  padding: 30px 20px;\n  h1 {\n    color: #00B020;\n  }\n\n"]);return cl=function(){return e},e}function ul(){var e=Object(x.a)(["\nbox-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\nbackground-color: white;\nmax-width: 900px;\nmargin: 0 20px;\nwidth: 100%;\nflex: 1 0 auto;\nul {\n  list-style: none;\n  padding: 0;\n  font-size: 2em;\n  overflow:hidden; \n  overflow-y:scroll;\n}\nul img {\n  width: 10vh;\n  height: 10vh;\n  float: left; \n  margin: 15px 15px 15px 0px;\n}\nli {\n  padding: 5px 10px;\n  background-color: #EEEEEE;\n  border: 1px solid #DDDDDD;\n}\n"]);return ul=function(){return e},e}function ll(){var e=Object(x.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 0;\n"]);return ll=function(){return e},e}var sl=E.default.div(ll()),dl=E.default.div(ul()),fl=E.default.div(cl()),pl=t(155),ml=pl.Namespace("http://xmlns.com/foaf/0.1/"),gl=pl.graph(),hl=null;function bl(){return(bl=Object(L.a)(C.a.mark(function e(n,t){var r,a,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new pl.Fetcher(gl),null!=n){e.next=5;break}return e.abrupt("return",t(null));case 5:return e.next=7,r.load(n);case 7:a=gl.each(pl.sym(n),ml("knows")),i=a.map(function(e){return e.value});case 9:return e.abrupt("return",t(i));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var vl=function(e){var n=e.parentCallback,t=Object(f.b)().t;return function(e){var n=Object(f.b)().t;_.a.trackSession(function(t){return t?e(t.webId):(D(n("friends.userlogged"),"Error"),e(null))})}(function(e){!function(e,n){bl.apply(this,arguments)}(e,function(){var e=Object(L.a)(C.a.mark(function e(r){var a,i,o,c,l,s,d;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&void 0!==r){e.next=4;break}D(t("friends.errorObtaining"),"Error"),e.next=25;break;case 4:hl=[],a=0;case 6:if(!(a<r.length)){e.next=24;break}return i=r[a],e.next=10,B.a[i];case 10:return o=e.sent,e.next=13,o.vcard_fn;case 13:return c=e.sent,l=c&&c.value.trim().length>0?c.value:i.toString(),e.next=17,o.vcard_hasPhoto;case 17:s=e.sent,d=void 0,d=s&&s.value?s.value:"img/icon/empty-profile.svg",hl.push(u.a.createElement("li",{key:i.toString()},u.a.createElement("section",null,u.a.createElement("input",{type:"checkbox",id:i.toString(),name:i.toString(),onChange:n}),u.a.createElement("img",{alt:"",src:d}),u.a.createElement("p",null,l))));case 21:a++,e.next=6;break;case 24:0===hl.length&&hl.push(u.a.createElement("li",{key:"noFriends"},u.a.createElement("section",null,u.a.createElement("p",null,t("friends.noFriends")))));case 25:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}())}),function(){var e=Object(f.b)().t,n=Object(c.useState)(!0),t=Object(Qe.a)(n,2),r=t[0],a=t[1];return setTimeout(function(){return a(!1)},3e3),u.a.createElement(sl,null,u.a.createElement(dl,null,u.a.createElement("div",null,u.a.createElement(fl,null,u.a.createElement("h1",null,e("friendsGroups.select"))),u.a.createElement("ul",null,hl))),r&&u.a.createElement(Xe,{absolute:!0}))}()},xl="",El="",wl=[],yl="";function Ol(e){e.target.checked?wl.push(e.target.name):wl=wl.filter(function(n){return n!==e.target.name})}function jl(){if(0===xl.trim().length)D("El grupo necesita un nombre","Error");else if(0===wl.length)D("Necesitas a\xf1adir al menos un amigo al grupo","Error");else if(xl.trim().length>0&&wl.length>0){var e=xl.trim().replace(/ /g,"")+(new Date).getTime();new ol(wl,xl,El,e,yl).parse(),xl="",El="",wl=[],T("Creando el grupo","\xc9xito"),setTimeout(function(){window.location.href="#/friendsGroups"},3e3)}}function kl(e){e.preventDefault(),xl=e.target.value}function Nl(e){e.preventDefault(),El=e.target.value}var Sl=[{id:"welcome",path:"/welcome",component:Xa},{id:"profile",path:"/profile",component:ci},{id:"timeline",path:"/timeline",component:po},{id:"route",path:"/route/:id",component:eo},{id:"friends",path:"/friends",component:Cu},{id:"friendsGroups",path:"/friendsGroups",component:Gu},{id:"createroute",path:"/createroute",component:Do},{id:"createroutegpx",path:"/createroutegpx",component:xc},{id:"createroutegeojson",path:"/createroutegeojson",component:Wc},{id:"createroutejsonld",path:"/createroutejsonld",component:gu},{id:"createrouteselector",path:"/createrouteselector",component:Xo},{id:"createGroup",path:"/createGroup",component:function(){return function(e){var n=Object(f.b)().t;_.a.trackSession(function(t){return t?e(t.webId):(D(n("friends.userlogged"),"Error"),e(null))})}(function(e){yl=e}),function(){var e=Object(f.b)().t;return u.a.createElement(Qu,null,u.a.createElement($u,null,u.a.createElement(el,null," ",u.a.createElement("h1",null,e("friendsGroups.newGroup"))," "),u.a.createElement(nl,null,u.a.createElement(tl,null,u.a.createElement(il,null,e("friendsGroups.name"),u.a.createElement(rl,{"data-testid":"input-nombre",type:"text",size:"100",placeholder:e("friendsGroups.groupName"),onChange:kl})),u.a.createElement(il,null,e("friendsGroups.description"),u.a.createElement(rl,{"data-testid":"input-descripcion",type:"text",size:"100",placeholder:e("friendsGroups.groupDescription"),onChange:Nl})),u.a.createElement(vl,{parentCallback:Ol})),u.a.createElement(tl,null,u.a.createElement(al,{variant:"success",onClick:jl,"data-testid":"buttonsubmit"},e("friendsGroups.create"))))))}()}},{id:"friendsGroups",path:"/friendsGroups",component:Gu}],Cl=function(){return u.a.createElement(qr.a,null,u.a.createElement(c.Fragment,null,u.a.createElement(Rr.a,null,u.a.createElement(Ir,{component:$r,path:"/login",exact:!0}),u.a.createElement(Ir,{component:Ea,path:"/register",exact:!0}),u.a.createElement(Ir,{path:"/register/success",component:ba,exact:!0}),u.a.createElement(Ur,{path:"/404",component:ka,exact:!0}),u.a.createElement(vn.a,{from:"/",to:"/welcome",exact:!0}),u.a.createElement(_r,{path:"/",routes:Sl}),u.a.createElement(vn.a,{to:"/404"}))))},Pl={colors:{},tictactoe:{movex:"#13428f",moveo:"#820d2c",awaiting:"#cf6700",created:"#039c40",finished:"#8200a6"}};t(501),t(503),t(505),t(507),t(509);function Il(){var e=Object(x.a)(["\n  &.solid-toaster-container {\n    min-width: 410px;\n    margin-left: 0;\n    transform: translateX(-50%);\n    padding: 0;\n    & .toaster-error {\n      color: #fff;\n      background: rgba(213, 0, 0, 0.9);\n    }\n\n    & .toaster-success {\n      color: #fff;\n      background: rgba(124, 77, 255, 0.9);\n    }\n  }\n\n  & .solid-toaster {\n    border-radius: 4px;\n    min-width: 410px;\n    color: #fff;\n    display: flex;\n    align-content: center;\n    min-height: 72px;\n    margin: 0;\n\n    & > .solid-toaster-body {\n      margin: 0;\n      display: flex;\n    }\n\n    & > button {\n      color: #fff;\n      opacity: 0.8;\n    }\n  }\n"]);return Il=function(){return e},e}var Rl=Object(E.default)(v.b)(Il());pn.c.add(mn.a),pn.c.add(gn.a);var Dl=function(){return u.a.createElement(c.Suspense,{fallback:u.a.createElement(Xe,null)},u.a.createElement(E.ThemeProvider,{theme:Pl},u.a.createElement(c.Fragment,null,u.a.createElement(Cl,null),u.a.createElement(Rl,{autoClose:3e3,position:v.c.POSITION.TOP_CENTER,newestOnTop:!0,closeOnClick:!0,pauseOnVisibilityChange:!0,draggable:!0,className:"solid-toaster-container",toastClassName:"solid-toaster",bodyClassName:"solid-toaster-body",transition:v.a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t.d(n,"renderToDOM",function(){return Tl});var Tl=function(){s.a.render(u.a.createElement(xn,{component:function(e,n){return u.a.createElement(zn,{error:e,info:n})}},u.a.createElement(Dl,null)),document.getElementById("root")||document.createElement("div"))};Tl(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[263,1,2]]]);
//# sourceMappingURL=main.afdf4b96.chunk.js.map